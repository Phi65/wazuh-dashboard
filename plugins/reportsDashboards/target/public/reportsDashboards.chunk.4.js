(window["reportsDashboards_bundle_jsonpfunction"]=window["reportsDashboards_bundle_jsonpfunction"]||[]).push([[4],{544:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(52));var _reactDom=_interopRequireDefault(__webpack_require__(128));var _app=__webpack_require__(712);var renderApp=function renderApp(_ref,_ref2,_ref3){var notifications=_ref.notifications,http=_ref.http,chrome=_ref.chrome;var navigation=_ref2.navigation;var appBasePath=_ref3.appBasePath,element=_ref3.element;_reactDom.default.render(_react.default.createElement(_app.ReportsDashboardsApp,{basename:appBasePath,notifications:notifications,http:http,navigation:navigation,chrome:chrome}),element);return function(){return _reactDom.default.unmountComponentAtNode(element)}};exports.renderApp=renderApp},614:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"GenerateReportLoadingModal",{enumerable:true,get:function get(){return _loading_modal.GenerateReportLoadingModal}});var _loading_modal=__webpack_require__(747)},652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ReportSettings",{enumerable:true,get:function get(){return _report_settings.ReportSettings}});var _report_settings=__webpack_require__(715)},653:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.commonTimeRanges=exports.SAVED_SEARCH_FORMAT_OPTIONS=exports.REPORT_SOURCE_TYPES=exports.REPORT_SOURCE_RADIOS=exports.PDF_PNG_FILE_FORMAT_OPTIONS=exports.HEADER_FOOTER_CHECKBOX=void 0;var _i18n=__webpack_require__(40);var REPORT_SOURCE_RADIOS=[{id:"dashboardReportSource",label:_i18n.i18n.translate("opensearch.reports.settings.constants.reportSourceRadios.dashboard",{defaultMessage:"Dashboard"})},{id:"visualizationReportSource",label:_i18n.i18n.translate("opensearch.reports.settings.constants.reportSourceRadios.visualization",{defaultMessage:"Visualization"})},{id:"savedSearchReportSource",label:_i18n.i18n.translate("opensearch.reports.settings.constants.reportSourceRadios.savedSearch",{defaultMessage:"Saved search"})},{id:"notebooksReportSource",label:"Notebook"}];exports.REPORT_SOURCE_RADIOS=REPORT_SOURCE_RADIOS;var PDF_PNG_FILE_FORMAT_OPTIONS=[{id:"pdf",label:"PDF"},{id:"png",label:"PNG"}];exports.PDF_PNG_FILE_FORMAT_OPTIONS=PDF_PNG_FILE_FORMAT_OPTIONS;var SAVED_SEARCH_FORMAT_OPTIONS=[{id:"csvFormat",label:"CSV"},{id:"xlsFormat",label:"XLS"}];exports.SAVED_SEARCH_FORMAT_OPTIONS=SAVED_SEARCH_FORMAT_OPTIONS;var HEADER_FOOTER_CHECKBOX=[{id:"header",label:_i18n.i18n.translate("opensearch.reports.settings.constants.headerFooterCheckbox.addHeader",{defaultMessage:"Add header"})},{id:"footer",label:_i18n.i18n.translate("opensearch.reports.settings.constants.headerFooterCheckbox.addFooter",{defaultMessage:"Add footer"})}];exports.HEADER_FOOTER_CHECKBOX=HEADER_FOOTER_CHECKBOX;var REPORT_SOURCE_TYPES={dashboard:"Dashboard",visualization:"Visualization",savedSearch:"Saved search",notebook:"Notebook"};exports.REPORT_SOURCE_TYPES=REPORT_SOURCE_TYPES;var commonTimeRanges=[{start:"now/d",end:"now",label:_i18n.i18n.translate("opensearch.reports.settings.constants.commonTimeRanges.todaySoFar",{defaultMessage:"Today so far"})},{start:"now/w",end:"now",label:_i18n.i18n.translate("opensearch.reports.settings.constants.commonTimeRanges.weekToDate",{defaultMessage:"Week to date"})},{start:"now/M",end:"now",label:_i18n.i18n.translate("opensearch.reports.settings.constants.commonTimeRanges.monthToDate",{defaultMessage:"Month to date"})},{start:"now/y",end:"now",label:_i18n.i18n.translate("opensearch.reports.settings.constants.commonTimeRanges.yearToDate",{defaultMessage:"Year to date"})}];exports.commonTimeRanges=commonTimeRanges},662:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseInContextUrl=exports.handleDataToVisualReportSourceChange=exports.getVisualizationOptions=exports.getVisualizationBaseUrlCreate=exports.getSavedSearchOptions=exports.getSavedSearchBaseUrlCreate=exports.getReportSourceFromURL=exports.getNotebooksOptions=exports.getNotebooksBaseUrlCreate=exports.getDashboardOptions=exports.getDashboardBaseUrlCreate=void 0;var parseInContextUrl=function parseInContextUrl(url,parameter){var info=url.split("?");if(parameter==="id"){return info[1].substring(info[1].indexOf(":")+1,info[1].length)}else if(parameter==="timeFrom"){return info[2].substring(info[2].indexOf("=")+1,info[2].length)}else if(parameter==="timeTo"){return info[3].substring(info[3].indexOf("=")+1,info[3].length)}return"error: invalid parameter"};exports.parseInContextUrl=parseInContextUrl;var getDashboardBaseUrlCreate=function getDashboardBaseUrlCreate(edit,editDefinitionId,fromInContext){var baseUrl;if(!fromInContext){baseUrl=location.pathname+location.hash}else{baseUrl="/app/dashboards#/view/"}if(edit){return baseUrl.replace("reports-dashboards#/edit/".concat(editDefinitionId),"dashboards#/view/")}else if(fromInContext){return baseUrl}return baseUrl.replace("reports-dashboards#/create","dashboards#/view/")};exports.getDashboardBaseUrlCreate=getDashboardBaseUrlCreate;var getVisualizationBaseUrlCreate=function getVisualizationBaseUrlCreate(edit,editDefinitionId,fromInContext){var baseUrl;if(!fromInContext){baseUrl=location.pathname+location.hash}else{baseUrl="/app/visualize#/edit/"}if(edit){return baseUrl.replace("reports-dashboards#/edit/".concat(editDefinitionId),"visualize#/edit/")}else if(fromInContext){return baseUrl}return baseUrl.replace("reports-dashboards#/create","visualize#/edit/")};exports.getVisualizationBaseUrlCreate=getVisualizationBaseUrlCreate;var getSavedSearchBaseUrlCreate=function getSavedSearchBaseUrlCreate(edit,editDefinitionId,fromInContext){var baseUrl;if(!fromInContext){baseUrl=location.pathname+location.hash}else{baseUrl="/app/discover#/view/"}if(edit){return baseUrl.replace("reports-dashboards#/edit/".concat(editDefinitionId),"discover#/view/")}else if(fromInContext){return baseUrl}return baseUrl.replace("reports-dashboards#/create","discover#/view/")};exports.getSavedSearchBaseUrlCreate=getSavedSearchBaseUrlCreate;var getNotebooksBaseUrlCreate=function getNotebooksBaseUrlCreate(edit,editDefinitionId,fromInContext){var baseUrl;if(!fromInContext){baseUrl=location.pathname+location.hash}else{baseUrl="/app/notebooks-dashboards?view=output_only#/"}if(edit){return baseUrl.replace("reports-dashboards#/edit/".concat(editDefinitionId),"notebooks-dashboards?view=output_only#/")}else if(fromInContext){return baseUrl}return baseUrl.replace("reports-dashboards#/create","notebooks-dashboards?view=output_only#/")};exports.getNotebooksBaseUrlCreate=getNotebooksBaseUrlCreate;var getDashboardOptions=function getDashboardOptions(data){var index;var dashboard_options=[];for(index=0;index<data.length;++index){var entry={value:data[index]["_id"].substring(10),label:data[index]["_source"]["dashboard"]["title"]};dashboard_options.push(entry)}return dashboard_options};exports.getDashboardOptions=getDashboardOptions;var getVisualizationOptions=function getVisualizationOptions(data){var index;var options=[];for(index=0;index<data.length;++index){var entry={value:data[index]["_id"].substring(14),label:data[index]["_source"]["visualization"]["title"]};options.push(entry)}return options};exports.getVisualizationOptions=getVisualizationOptions;var getSavedSearchOptions=function getSavedSearchOptions(data){var index;var options=[];for(index=0;index<data.length;++index){var entry={value:data[index]["_id"].substring(7),label:data[index]["_source"]["search"]["title"]};options.push(entry)}return options};exports.getSavedSearchOptions=getSavedSearchOptions;var getNotebooksOptions=function getNotebooksOptions(data){var index;var options=[];for(index=0;index<data.length;++index){var entry={value:data[index]["id"],label:data[index]["path"]};options.push(entry)}return options};exports.getNotebooksOptions=getNotebooksOptions;var handleDataToVisualReportSourceChange=function handleDataToVisualReportSourceChange(reportDefinitionRequest){delete reportDefinitionRequest.report_params.core_params.saved_search_id;delete reportDefinitionRequest.report_params.core_params.limit;delete reportDefinitionRequest.report_params.core_params.excel;reportDefinitionRequest.report_params.core_params.report_format="pdf"};exports.handleDataToVisualReportSourceChange=handleDataToVisualReportSourceChange;var getReportSourceFromURL=function getReportSourceFromURL(url){var source=url.split("?")[1].match(/previous=(.*):/);return source[1]};exports.getReportSourceFromURL=getReportSourceFromURL},663:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);Object.defineProperty(exports,"__esModule",{value:true});exports.converter=void 0;var _showdown=_interopRequireDefault(__webpack_require__(194));var converter=new _showdown.default.Converter({tables:true,simplifiedAutoLink:true,strikethrough:true,tasklists:true,noHeaderId:true});exports.converter=converter},664:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);Object.defineProperty(exports,"__esModule",{value:true});exports.WEEKLY_CHECKBOX_OPTIONS=exports.TRIGGER_TYPE_OPTIONS=exports.TIMEZONE_OPTIONS=exports.SCHEDULE_TYPE_OPTIONS=exports.SCHEDULE_RECURRING_OPTIONS=exports.MONTHLY_ON_THE_OPTIONS=exports.INTERVAL_TIME_PERIODS=void 0;var _momentTimezone=_interopRequireDefault(__webpack_require__(546));var _i18n=__webpack_require__(40);var TRIGGER_TYPE_OPTIONS=[{id:"On demand",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.triggerTypeOptions.onDemand",{defaultMessage:"On demand"})},{id:"Schedule",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.triggerTypeOptions.schedule",{defaultMessage:"Schedule"})}];exports.TRIGGER_TYPE_OPTIONS=TRIGGER_TYPE_OPTIONS;var SCHEDULE_TYPE_OPTIONS=[{id:"Recurring",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.scheduleTypeOptions.recurring",{defaultMessage:"Recurring"})},{id:"Cron based",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.scheduleTypeOptions.cronBased",{defaultMessage:"Cron based"})}];exports.SCHEDULE_TYPE_OPTIONS=SCHEDULE_TYPE_OPTIONS;var SCHEDULE_RECURRING_OPTIONS=[{value:"daily",text:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.scheduleRecurringOptions.daily",{defaultMessage:"Daily"})},{value:"byInterval",text:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.scheduleRecurringOptions.byInterval",{defaultMessage:"By interval"})}];exports.SCHEDULE_RECURRING_OPTIONS=SCHEDULE_RECURRING_OPTIONS;var INTERVAL_TIME_PERIODS=[{value:"MINUTES",text:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.intervalTimePeriods.minutes",{defaultMessage:"Minutes"})},{value:"HOURS",text:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.intervalTimePeriods.hours",{defaultMessage:"Hours"})},{value:"DAYS",text:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.intervalTimePeriods.days",{defaultMessage:"Days"})}];exports.INTERVAL_TIME_PERIODS=INTERVAL_TIME_PERIODS;var WEEKLY_CHECKBOX_OPTIONS=[{id:"monCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.mon",{defaultMessage:"Mon"})},{id:"tueCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.tue",{defaultMessage:"Tue"})},{id:"wedCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.wed",{defaultMessage:"Wed"})},{id:"thuCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.thu",{defaultMessage:"Thu"})},{id:"friCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.fri",{defaultMessage:"Fri"})},{id:"satCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.sat",{defaultMessage:"Sat"})},{id:"sunCheckbox",label:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.weeklyCheckboxOptions.sun",{defaultMessage:"Sun"})}];exports.WEEKLY_CHECKBOX_OPTIONS=WEEKLY_CHECKBOX_OPTIONS;var MONTHLY_ON_THE_OPTIONS=[{value:"day",text:_i18n.i18n.translate("opensearch.reports.reportTriggerConstants.monthlyOnTheOptions.day",{defaultMessage:"Day"})}];exports.MONTHLY_ON_THE_OPTIONS=MONTHLY_ON_THE_OPTIONS;var TIMEZONE_OPTIONS=_momentTimezone.default.tz.names().map((function(tz){return{value:tz,text:tz}}));exports.TIMEZONE_OPTIONS=TIMEZONE_OPTIONS},665:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);Object.defineProperty(exports,"__esModule",{value:true});exports.definitionInputValidation=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _cronValidator=__webpack_require__(744);var _i18n=__webpack_require__(40);var _moment=_interopRequireDefault(__webpack_require__(127));var definitionInputValidation=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(metadata,error,setShowSettingsReportNameError,setSettingsReportNameErrorMessage,setShowSettingsReportSourceError,setSettingsReportSourceErrorMessage,setShowTriggerIntervalNaNError,timeRange,setShowTimeRangeError,setShowCronError){var regexp,interval,nowDate;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:regexp=/^[\w\-\s\(\)\[\]\,\_\-+]+$/;if(metadata.report_params.report_name.search(regexp)===-1){setShowSettingsReportNameError(true);if(metadata.report_params.report_name===""){setSettingsReportNameErrorMessage("Name must not be empty.")}else{setSettingsReportNameErrorMessage("Invalid characters in report name.")}error=true}if(metadata.trigger.trigger_type==="Schedule"&&metadata.trigger.trigger_params.schedule_type==="Recurring"){interval=parseInt(metadata.trigger.trigger_params.schedule.interval.period);if(isNaN(interval)){setShowTriggerIntervalNaNError(true);error=true}}if(metadata.report_params.core_params.base_url===""){setShowSettingsReportSourceError(true);setSettingsReportSourceErrorMessage(_i18n.i18n.translate("opensearch.reports.error.reportSourceMustNotBeEmpty",{defaultMessage:"Report source must not be empty."}));error=true}nowDate=new Date(_moment.default.now());if(timeRange.timeFrom>timeRange.timeTo||timeRange.timeTo>nowDate){setShowTimeRangeError(true);error=true}if(metadata.trigger.trigger_type==="Schedule"&&metadata.trigger.trigger_params.schedule_type==="Cron based"){if(!(0,_cronValidator.isValidCron)(metadata.trigger.trigger_params.schedule.cron.expression)){setShowCronError(true);error=true}}return _context.abrupt("return",error);case 8:case"end":return _context.stop()}}}),_callee)})));return function definitionInputValidation(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9,_x10){return _ref.apply(this,arguments)}}();exports.definitionInputValidation=definitionInputValidation},666:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportDetails=ReportDetails;exports.trimAndRenderAsText=exports.formatEmails=exports.ReportDetailsComponent=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _main_utils=__webpack_require__(190);var _loading_modal=__webpack_require__(614);var _datemath=_interopRequireDefault(__webpack_require__(193));var _utils=__webpack_require__(191);var _constants=__webpack_require__(749);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var ReportDetailsComponent=function ReportDetailsComponent(props){var reportDetailsComponentTitle=props.reportDetailsComponentTitle,reportDetailsComponentContent=props.reportDetailsComponentContent;return _react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiDescriptionList,null,_react.default.createElement(_eui.EuiDescriptionListTitle,null,reportDetailsComponentTitle),_react.default.createElement(_eui.EuiDescriptionListDescription,null,reportDetailsComponentContent)))};exports.ReportDetailsComponent=ReportDetailsComponent;var trimAndRenderAsText=function trimAndRenderAsText(markdown){if(!markdown)return markdown;var lines=markdown.split("\n").filter((function(line){return line}));var elements=lines.slice(0,3).map((function(line,i){return _react.default.createElement("p",{key:i},line)}));return lines.length<=3?elements:elements.concat(_react.default.createElement("p",{key:3},"..."))};exports.trimAndRenderAsText=trimAndRenderAsText;var formatEmails=function formatEmails(emails){return Array.isArray(emails)?emails.join(", "):emails};exports.formatEmails=formatEmails;function ReportDetails(props){var _useState=(0,_react.useState)({reportName:"",description:"",created:"",lastUpdated:"",source:"",time_period:"",defaultFileFormat:"",state:"",reportHeader:"",reportFooter:"",triggerType:"",scheduleType:"",scheduleDetails:"",queryUrl:""}),_useState2=(0,_slicedToArray2.default)(_useState,2),reportDetails=_useState2[0],setReportDetails=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2.default)(_useState3,2),toasts=_useState4[0],setToasts=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2.default)(_useState5,2),showLoading=_useState6[0],setShowLoading=_useState6[1];var reportId=props.match["params"]["reportId"];var handleLoading=function handleLoading(e){setShowLoading(e)};var addPermissionsMissingDownloadToastHandler=function addPermissionsMissingDownloadToastHandler(){var toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.GENERATING_REPORT);setToasts(toasts.concat(toast))};var handlePermissionsMissingDownloadToast=function handlePermissionsMissingDownloadToast(){addPermissionsMissingDownloadToastHandler()};var addErrorToastHandler=function addErrorToastHandler(){var title=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_i18n.i18n.translate("opensearch.reports.details.errorLoadingReportDetails",{defaultMessage:"Error loading report details."});var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var errorToast={title:title,text:text,color:"danger",iconType:"alert",id:"reportDetailsErrorToast"};setToasts(toasts.concat(errorToast))};var handleErrorToast=function handleErrorToast(title,text){addErrorToastHandler(title,text)};var addSuccessToastHandler=function addSuccessToastHandler(){var successToast={title:"Success",color:"success",text:_react.default.createElement("p",null,_i18n.i18n.translate("opensearch.reports.details.reportSuccessfullyDownloaded",{defaultMessage:"Report successfully downloaded!"})),id:"onDemandDownloadSuccessToast"};setToasts(toasts.concat(successToast))};var handleSuccessToast=function handleSuccessToast(){addSuccessToastHandler()};var removeToast=function removeToast(removedToast){setToasts(toasts.filter((function(toast){return toast.id!==removedToast.id})))};var handleReportDetails=function handleReportDetails(e){setReportDetails(e)};var convertTimestamp=function convertTimestamp(timestamp){var displayDate="—";if(timestamp){var readableDate=new Date(timestamp);displayDate=readableDate.toLocaleString()}return displayDate};var parseTimePeriod=function parseTimePeriod(queryUrl){var _queryUrl$match=queryUrl.match(_utils.timeRangeMatcher),_queryUrl$match2=(0,_slicedToArray2.default)(_queryUrl$match,2),fromDateString=_queryUrl$match2[0],toDateString=_queryUrl$match2[1];fromDateString=decodeURIComponent(fromDateString.replace(/[']+/g,""));toDateString=decodeURIComponent(toDateString.replace(/[']+/g,""));var fromDateParsed=_datemath.default.parse(fromDateString);var toDateParsed=_datemath.default.parse(toDateString,{roundUp:true});var fromTimePeriod=fromDateParsed===null||fromDateParsed===void 0?void 0:fromDateParsed.toDate();var toTimePeriod=toDateParsed===null||toDateParsed===void 0?void 0:toDateParsed.toDate();return(fromTimePeriod===null||fromTimePeriod===void 0?void 0:fromTimePeriod.toLocaleString())+" -> "+(toTimePeriod===null||toTimePeriod===void 0?void 0:toTimePeriod.toLocaleString())};var getReportDetailsData=function getReportDetailsData(report){var reportDefinition=report.report_definition,lastUpdated=report.last_updated,state=report.state,queryUrl=report.query_url;var reportParams=reportDefinition.report_params,trigger=reportDefinition.trigger;var triggerType=trigger.trigger_type,triggerParams=trigger.trigger_params;var coreParams=reportParams.core_params;var reportDetails={reportName:reportParams.report_name,description:reportParams.description===""?"—":reportParams.description,created:convertTimestamp(report.time_created),lastUpdated:convertTimestamp(report.last_updated),source:reportParams.report_source,time_period:reportParams.report_source!=="Notebook"?parseTimePeriod(queryUrl):"—",defaultFileFormat:coreParams.report_format,state:state,reportHeader:reportParams.core_params.hasOwnProperty("header")&&reportParams.core_params.header!=""?reportParams.core_params.header:"—",reportFooter:reportParams.core_params.hasOwnProperty("footer")&&reportParams.core_params.footer!=""?reportParams.core_params.footer:"—",triggerType:triggerType,scheduleType:triggerParams?triggerParams.schedule_type:"—",scheduleDetails:"—",queryUrl:queryUrl};return reportDetails};(0,_react.useEffect)((function(){var httpClient=props.httpClient;httpClient.get("../api/reporting/reports/"+reportId).then((function(response){handleReportDetails(getReportDetailsData(response));props.setBreadcrumbs([{text:_i18n.i18n.translate("opensearch.reports.details.breadcrumb.reporting",{defaultMessage:"Reporting"}),href:"#"},{text:_i18n.i18n.translate("opensearch.reports.details.breadcrumb.reportDetails",{defaultMessage:"Report details: {name}",values:{name:response.report_definition.report_params.report_name}})}])})).catch((function(error){console.log("Error when fetching report details: ",error);handleErrorToast()}))}),[]);var downloadIconDownload=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:handleLoading(true);_context.next=3;return(0,_main_utils.generateReportById)(reportId,props.httpClient,handleSuccessToast,handleErrorToast,handlePermissionsMissingDownloadToast);case 3:handleLoading(false);case 4:case"end":return _context.stop()}}}),_callee)})));return function downloadIconDownload(){return _ref.apply(this,arguments)}}();var fileFormatDownload=function fileFormatDownload(data){var formatUpper=data["defaultFileFormat"];formatUpper=_main_utils.fileFormatsUpper[formatUpper];return _react.default.createElement(_eui.EuiLink,{onClick:downloadIconDownload},formatUpper+" ",_react.default.createElement(_eui.EuiIcon,{type:"importAction"}))};var sourceURL=function sourceURL(data){return _react.default.createElement(_eui.EuiLink,{id:"reportDetailsSourceURL",href:"".concat(data.queryUrl),target:"_blank"},data["source"])};var triggerSection=reportDetails.triggerType===_constants.TRIGGER_TYPE.onDemand?_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportTrigger.reportType",{defaultMessage:"Report trigger"}),reportDetailsComponentContent:reportDetails.triggerType}):_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportTrigger.reportType",{defaultMessage:"Report trigger"}),reportDetailsComponentContent:reportDetails.triggerType}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportTrigger.scheduleType",{defaultMessage:"Schedule type"}),reportDetailsComponentContent:reportDetails.scheduleType}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportTrigger.scheduleDetails",{defaultMessage:"Schedule details"}),reportDetailsComponentContent:reportDetails.scheduleDetails}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:"",reportDetailsComponentContent:""}));var showLoadingModal=showLoading?_react.default.createElement(_loading_modal.GenerateReportLoadingModal,{setShowLoading:setShowLoading}):null;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,_i18n.i18n.translate("opensearch.reports.details.title",{defaultMessage:"Report details"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,{panelPaddingSize:"l"},_react.default.createElement(_eui.EuiPageHeader,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPageHeaderSection,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,reportDetails.reportName)))))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h3",null,_i18n.i18n.translate("opensearch.reports.details.reportSettings",{defaultMessage:"Report Settings"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.name",{defaultMessage:"Name"}),reportDetailsComponentContent:reportDetails.reportName}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.description",{defaultMessage:"Description"}),reportDetailsComponentContent:reportDetails.description}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.created",{defaultMessage:"Created"}),reportDetailsComponentContent:reportDetails.created}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.lastUpdated",{defaultMessage:"Last updated"}),reportDetailsComponentContent:reportDetails.lastUpdated})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.source",{defaultMessage:"Source"}),reportDetailsComponentContent:sourceURL(reportDetails)}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.timePeriod",{defaultMessage:"Time period"}),reportDetailsComponentContent:reportDetails.time_period}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.fileFormat",{defaultMessage:"File format"}),reportDetailsComponentContent:fileFormatDownload(reportDetails)}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.state",{defaultMessage:"State"}),reportDetailsComponentContent:reportDetails.state})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.reportHeader",{defaultMessage:"Report header"}),reportDetailsComponentContent:trimAndRenderAsText(reportDetails.reportHeader)}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.details.reportSettings.reportFooter",{defaultMessage:"Report footer"}),reportDetailsComponentContent:trimAndRenderAsText(reportDetails.reportFooter)}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:"",reportDetailsComponentContent:""}),_react.default.createElement(ReportDetailsComponent,{reportDetailsComponentTitle:"",reportDetailsComponentContent:""})),_react.default.createElement(_eui.EuiSpacer,null),triggerSection),_react.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:removeToast,toastLifeTimeMs:6e3}),showLoadingModal))}},712:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportsDashboardsApp=void 0;var _extends2=_interopRequireDefault(__webpack_require__(713));var _react=_interopRequireDefault(__webpack_require__(52));var _react2=__webpack_require__(195);var _reactRouterDom=__webpack_require__(545);var _eui=__webpack_require__(189);var _create_report_definition=__webpack_require__(714);var _main=__webpack_require__(745);var _report_details=__webpack_require__(666);var _report_definition_details=__webpack_require__(750);var _edit_report_definition=__webpack_require__(751);var _i18n=__webpack_require__(40);var styles={float:"left",width:"100%",maxWidth:"1600px"};var ReportsDashboardsApp=function ReportsDashboardsApp(_ref){var basename=_ref.basename,notifications=_ref.notifications,http=_ref.http,navigation=_ref.navigation,chrome=_ref.chrome;return _react.default.createElement(_reactRouterDom.HashRouter,{basename:"/"+basename},_react.default.createElement(_react2.I18nProvider,null,_react.default.createElement("div",{style:styles},_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContentHeader,null,_react.default.createElement(_eui.EuiPageContentHeaderSection,null)),_react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/report_details/:reportId",render:function render(props){return _react.default.createElement(_report_details.ReportDetails,(0,_extends2.default)({title:_i18n.i18n.translate("opensearch.reports.app.reportDetails",{defaultMessage:"Report Details"}),httpClient:http},props,{setBreadcrumbs:chrome.setBreadcrumbs}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"/report_definition_details/:reportDefinitionId",render:function render(props){return _react.default.createElement(_report_definition_details.ReportDefinitionDetails,(0,_extends2.default)({title:_i18n.i18n.translate("opensearch.reports.app.reportDefinitionDetails",{defaultMessage:"Report Definition Details"}),httpClient:http},props,{setBreadcrumbs:chrome.setBreadcrumbs}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"/create",render:function render(props){return _react.default.createElement(_create_report_definition.CreateReport,(0,_extends2.default)({title:_i18n.i18n.translate("opensearch.reports.app.createReport",{defaultMessage:"Create Report"}),httpClient:http},props,{setBreadcrumbs:chrome.setBreadcrumbs}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"/edit/:reportDefinitionId",render:function render(props){return _react.default.createElement(_edit_report_definition.EditReportDefinition,(0,_extends2.default)({title:_i18n.i18n.translate("opensearch.reports.app.editReportDefinition",{defaultMessage:"Edit Report Definition"}),httpClient:http},props,{setBreadcrumbs:chrome.setBreadcrumbs}))}}),_react.default.createElement(_reactRouterDom.Route,{path:"/",render:function render(props){return _react.default.createElement(_main.Main,(0,_extends2.default)({title:_i18n.i18n.translate("opensearch.reports.app.reportingHomepage",{defaultMessage:"Reporting Homepage"}),httpClient:http},props,{setBreadcrumbs:chrome.setBreadcrumbs}))}}))))))))};exports.ReportsDashboardsApp=ReportsDashboardsApp},714:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.CreateReport=CreateReport;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _report_settings=__webpack_require__(652);var _main_utils=__webpack_require__(190);var _utils=__webpack_require__(191);var _utils2=__webpack_require__(665);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function CreateReport(props){var createReportDefinitionRequest={report_params:{report_name:"",report_source:"",description:"",core_params:{base_url:"",report_format:"",time_duration:""}},delivery:{configIds:[],title:"",textDescription:"",htmlDescription:""},trigger:{trigger_type:""}};var _useState=(0,_react.useState)([]),_useState2=(0,_slicedToArray2.default)(_useState,2),toasts=_useState2[0],setToasts=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),comingFromError=_useState4[0],setComingFromError=_useState4[1];var _useState5=(0,_react.useState)({}),_useState6=(0,_slicedToArray2.default)(_useState5,2),preErrorData=_useState6[0],setPreErrorData=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2.default)(_useState7,2),showSettingsReportNameError=_useState8[0],setShowSettingsReportNameError=_useState8[1];var _useState9=(0,_react.useState)(""),_useState10=(0,_slicedToArray2.default)(_useState9,2),settingsReportNameErrorMessage=_useState10[0],setSettingsReportNameErrorMessage=_useState10[1];var _useState11=(0,_react.useState)(false),_useState12=(0,_slicedToArray2.default)(_useState11,2),showSettingsReportSourceError=_useState12[0],setShowSettingsReportSourceError=_useState12[1];var _useState13=(0,_react.useState)(""),_useState14=(0,_slicedToArray2.default)(_useState13,2),settingsReportSourceErrorMessage=_useState14[0],setSettingsReportSourceErrorMessage=_useState14[1];var _useState15=(0,_react.useState)(false),_useState16=(0,_slicedToArray2.default)(_useState15,2),showTriggerIntervalNaNError=_useState16[0],setShowTriggerIntervalNaNError=_useState16[1];var _useState17=(0,_react.useState)(false),_useState18=(0,_slicedToArray2.default)(_useState17,2),showCronError=_useState18[0],setShowCronError=_useState18[1];var _useState19=(0,_react.useState)(false),_useState20=(0,_slicedToArray2.default)(_useState19,2),showTimeRangeError=_useState20[0],setShowTimeRangeError=_useState20[1];if(comingFromError){createReportDefinitionRequest=preErrorData}var addInputValidationErrorToastHandler=function addInputValidationErrorToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.createReportDefinition.error.fieldsHaveAnError",{defaultMessage:"One or more fields have an error. Please check and try again."}),color:"danger",iconType:"alert",id:"errorToast"};setToasts(toasts.concat(errorToast))};var handleInputValidationErrorToast=function handleInputValidationErrorToast(){addInputValidationErrorToastHandler()};var addErrorOnCreateToastHandler=function addErrorOnCreateToastHandler(errorType){var toast={};if(errorType==="permissions"){toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.CREATING_REPORT_DEFINITION)}else if(errorType==="API"){toast={title:_i18n.i18n.translate("opensearch.reports.createReportDefinition.error.errorCreating",{defaultMessage:"Error creating report definition."}),color:"danger",iconType:"alert",id:"errorToast"}}setToasts(toasts.concat(toast))};var handleErrorOnCreateToast=function handleErrorOnCreateToast(errorType){addErrorOnCreateToastHandler(errorType)};var addInvalidTimeRangeToastHandler=function addInvalidTimeRangeToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.createReportDefinition.error.invalidTimeRange",{defaultMessage:"Invalid time range selected."}),color:"danger",iconType:"alert",id:"timeRangeErrorToast"};setToasts(toasts.concat(errorToast))};var handleInvalidTimeRangeToast=function handleInvalidTimeRangeToast(){addInvalidTimeRangeToastHandler()};var removeToast=function removeToast(removedToast){setToasts(toasts.filter((function(toast){return toast.id!==removedToast.id})))};var timeRange={timeFrom:new Date,timeTo:new Date};var createNewReportDefinition=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(metadata,timeRange){var httpClient,error;return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:httpClient=props.httpClient;if(metadata.trigger.trigger_type==="On demand"&&metadata.trigger.trigger_params!==undefined){delete metadata.trigger.trigger_params}error=false;_context2.next=5;return(0,_utils2.definitionInputValidation)(metadata,error,setShowSettingsReportNameError,setSettingsReportNameErrorMessage,setShowSettingsReportSourceError,setSettingsReportSourceErrorMessage,setShowTriggerIntervalNaNError,timeRange,setShowTimeRangeError,setShowCronError).then((function(response){error=response}));case 5:if(error){handleInputValidationErrorToast();setPreErrorData(metadata);setComingFromError(true)}else{httpClient.post("../api/reporting/reportDefinition",{body:JSON.stringify(metadata),headers:{"Content-Type":"application/json"}}).then(function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(resp){var reportDefinitionId;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(metadata.trigger.trigger_type==="On demand"){reportDefinitionId=resp.scheduler_response.reportDefinitionId;(0,_main_utils.generateReportFromDefinitionId)(reportDefinitionId,httpClient)}window.location.assign("reports-dashboards#/create=success");case 2:case"end":return _context.stop()}}}),_callee)})));return function(_x3){return _ref2.apply(this,arguments)}}()).catch((function(error){console.log("error in creating report definition: "+error);if(error.body.statusCode===403){handleErrorOnCreateToast("permissions")}else{handleErrorOnCreateToast("API")}}))}case 6:case"end":return _context2.stop()}}}),_callee2)})));return function createNewReportDefinition(_x,_x2){return _ref.apply(this,arguments)}}();(0,_react.useEffect)((function(){window.scrollTo(0,0);props.setBreadcrumbs([{text:_i18n.i18n.translate("opensearch.reports.createReportDefinition.breadcrumb.reporting",{defaultMessage:"Reporting"}),href:"#"},{text:_i18n.i18n.translate("opensearch.reports.createReportDefinition.breadcrumb.createReportDefinition",{defaultMessage:"Create report definition"}),href:"#/create"}])}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_i18n.i18n.translate("opensearch.reports.createReportDefinition.title",{defaultMessage:"Create report definition"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_report_settings.ReportSettings,{edit:false,editDefinitionId:"",reportDefinitionRequest:createReportDefinitionRequest,httpClientProps:props["httpClient"],timeRange:timeRange,showSettingsReportNameError:showSettingsReportNameError,settingsReportNameErrorMessage:settingsReportNameErrorMessage,showSettingsReportSourceError:showSettingsReportSourceError,settingsReportSourceErrorMessage:settingsReportSourceErrorMessage,showTimeRangeError:showTimeRangeError,showTriggerIntervalNaNError:showTriggerIntervalNaNError,showCronError:showCronError}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){window.location.assign("reports-dashboards#/")}},_i18n.i18n.translate("opensearch.reports.createReportDefinition.cancel",{defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:function onClick(){return createNewReportDefinition(createReportDefinitionRequest,timeRange)},id:"createNewReportDefinition"},_i18n.i18n.translate("opensearch.reports.createReportDefinition.create",{defaultMessage:"Create"})))),_react.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:removeToast,toastLifeTimeMs:6e3})))}},715:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportSettings=ReportSettings;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _defineProperty2=_interopRequireDefault(__webpack_require__(192));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _report_settings_constants=__webpack_require__(653);var _reactMde=_interopRequireDefault(__webpack_require__(654));__webpack_require__(738);var _report_settings_helpers=__webpack_require__(662);var _time_range=__webpack_require__(740);var _utils=__webpack_require__(663);var _report_trigger=__webpack_require__(741);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ReportSettings(props){var edit=props.edit,editDefinitionId=props.editDefinitionId,reportDefinitionRequest=props.reportDefinitionRequest,httpClientProps=props.httpClientProps,timeRange=props.timeRange,showSettingsReportNameError=props.showSettingsReportNameError,settingsReportNameErrorMessage=props.settingsReportNameErrorMessage,showSettingsReportSourceError=props.showSettingsReportSourceError,settingsReportSourceErrorMessage=props.settingsReportSourceErrorMessage,showTimeRangeError=props.showTimeRangeError,showTriggerIntervalNaNError=props.showTriggerIntervalNaNError,showCronError=props.showCronError;var _useState=(0,_react.useState)(""),_useState2=(0,_slicedToArray2.default)(_useState,2),reportName=_useState2[0],setReportName=_useState2[1];var _useState3=(0,_react.useState)(""),_useState4=(0,_slicedToArray2.default)(_useState3,2),reportDescription=_useState4[0],setReportDescription=_useState4[1];var _useState5=(0,_react.useState)("dashboardReportSource"),_useState6=(0,_slicedToArray2.default)(_useState5,2),reportSourceId=_useState6[0],setReportSourceId=_useState6[1];var _useState7=(0,_react.useState)([]),_useState8=(0,_slicedToArray2.default)(_useState7,2),dashboardSourceSelect=_useState8[0],setDashboardSourceSelect=_useState8[1];var _useState9=(0,_react.useState)([]),_useState10=(0,_slicedToArray2.default)(_useState9,2),dashboards=_useState10[0],setDashboards=_useState10[1];var _useState11=(0,_react.useState)([]),_useState12=(0,_slicedToArray2.default)(_useState11,2),visualizationSourceSelect=_useState12[0],setVisualizationSourceSelect=_useState12[1];var _useState13=(0,_react.useState)([]),_useState14=(0,_slicedToArray2.default)(_useState13,2),visualizations=_useState14[0],setVisualizations=_useState14[1];var _useState15=(0,_react.useState)([]),_useState16=(0,_slicedToArray2.default)(_useState15,2),savedSearchSourceSelect=_useState16[0],setSavedSearchSourceSelect=_useState16[1];var _useState17=(0,_react.useState)([]),_useState18=(0,_slicedToArray2.default)(_useState17,2),savedSearches=_useState18[0],setSavedSearches=_useState18[1];var _useState19=(0,_react.useState)([]),_useState20=(0,_slicedToArray2.default)(_useState19,2),notebooksSourceSelect=_useState20[0],setNotebooksSourceSelect=_useState20[1];var _useState21=(0,_react.useState)([]),_useState22=(0,_slicedToArray2.default)(_useState21,2),notebooks=_useState22[0],setNotebooks=_useState22[1];var _useState23=(0,_react.useState)("pdf"),_useState24=(0,_slicedToArray2.default)(_useState23,2),fileFormat=_useState24[0],setFileFormat=_useState24[1];var handleDashboards=function handleDashboards(e){setDashboards(e)};var handleVisualizations=function handleVisualizations(e){setVisualizations(e)};var handleSavedSearches=function handleSavedSearches(e){setSavedSearches(e)};var handleNotebooks=function handleNotebooks(e){setNotebooks(e)};var handleReportName=function handleReportName(e){setReportName(e.target.value);reportDefinitionRequest.report_params.report_name=e.target.value.toString()};var handleReportDescription=function handleReportDescription(e){setReportDescription(e.target.value);reportDefinitionRequest.report_params.description=e.target.value.toString()};var handleReportSource=function handleReportSource(e){setReportSourceId(e);var fromInContext=false;if(window.location.href.includes("?")){fromInContext=true}if(e==="dashboardReportSource"){var _dashboards$;reportDefinitionRequest.report_params.report_source="Dashboard";reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getDashboardBaseUrlCreate)(edit,editDefinitionId,fromInContext)+((_dashboards$=dashboards[0])===null||_dashboards$===void 0?void 0:_dashboards$.value);(0,_report_settings_helpers.handleDataToVisualReportSourceChange)(reportDefinitionRequest);setFileFormat("pdf")}else if(e==="visualizationReportSource"){var _visualizations$;reportDefinitionRequest.report_params.report_source="Visualization";reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getVisualizationBaseUrlCreate)(edit,editDefinitionId,fromInContext)+((_visualizations$=visualizations[0])===null||_visualizations$===void 0?void 0:_visualizations$.value);(0,_report_settings_helpers.handleDataToVisualReportSourceChange)(reportDefinitionRequest);setFileFormat("pdf")}else if(e==="savedSearchReportSource"){var _savedSearches$,_savedSearches$2;reportDefinitionRequest.report_params.report_source="Saved search";reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getSavedSearchBaseUrlCreate)(edit,editDefinitionId,fromInContext)+((_savedSearches$=savedSearches[0])===null||_savedSearches$===void 0?void 0:_savedSearches$.value);reportDefinitionRequest.report_params.core_params.saved_search_id=(_savedSearches$2=savedSearches[0])===null||_savedSearches$2===void 0?void 0:_savedSearches$2.value;reportDefinitionRequest.report_params.core_params.report_format="csv";reportDefinitionRequest.report_params.core_params.limit=1e4;reportDefinitionRequest.report_params.core_params.excel=true}else if(e==="notebooksReportSource"){var _notebooks$;reportDefinitionRequest.report_params.report_source="Notebook";reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getNotebooksBaseUrlCreate)(edit,editDefinitionId,fromInContext)+((_notebooks$=notebooks[0])===null||_notebooks$===void 0?void 0:_notebooks$.value);(0,_report_settings_helpers.handleDataToVisualReportSourceChange)(reportDefinitionRequest);setFileFormat("pdf")}};var handleDashboardSelect=function handleDashboardSelect(e){setDashboardSourceSelect(e);var fromInContext=false;if(window.location.href.includes("?")){fromInContext=true}if(e.length>0){reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getDashboardBaseUrlCreate)(edit,editDefinitionId,fromInContext)+e[0].value}else{reportDefinitionRequest.report_params.core_params.base_url=""}};var handleVisualizationSelect=function handleVisualizationSelect(e){setVisualizationSourceSelect(e);var fromInContext=false;if(window.location.href.includes("?")){fromInContext=true}if(e.length>0){reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getVisualizationBaseUrlCreate)(edit,editDefinitionId,fromInContext)+e[0].value}else{reportDefinitionRequest.report_params.core_params.base_url=""}};var handleSavedSearchSelect=function handleSavedSearchSelect(e){setSavedSearchSourceSelect(e);var fromInContext=false;if(window.location.href.includes("?")){fromInContext=true}if(e.length>0){reportDefinitionRequest.report_params.core_params.saved_search_id=e[0].value;reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getSavedSearchBaseUrlCreate)(edit,editDefinitionId,fromInContext)+e[0].value}else{reportDefinitionRequest.report_params.core_params.base_url=""}};var handleNotebooksSelect=function handleNotebooksSelect(e){setNotebooksSourceSelect(e);var fromInContext=false;if(window.location.href.includes("?")){fromInContext=true}if(e.length>0){reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getNotebooksBaseUrlCreate)(edit,editDefinitionId,fromInContext)+e[0].value}else{reportDefinitionRequest.report_params.core_params.base_url=""}};var handleFileFormat=function handleFileFormat(e){setFileFormat(e);reportDefinitionRequest.report_params.core_params.report_format=e.toString()};var PDFandPNGFileFormats=function PDFandPNGFileFormats(){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.fileFormat",{defaultMessage:"File format"})},_react.default.createElement(_eui.EuiRadioGroup,{options:_report_settings_constants.PDF_PNG_FILE_FORMAT_OPTIONS,idSelected:fileFormat,onChange:handleFileFormat})))};var SettingsMarkdown=function SettingsMarkdown(){var _useState27;var _useState25=(0,_react.useState)((_useState27={},(0,_defineProperty2.default)(_useState27,"header",false),(0,_defineProperty2.default)(_useState27,"footer",false),_useState27)),_useState26=(0,_slicedToArray2.default)(_useState25,2),checkboxIdSelectHeaderFooter=_useState26[0],setCheckboxIdSelectHeaderFooter=_useState26[1];var _useState28=(0,_react.useState)(""),_useState29=(0,_slicedToArray2.default)(_useState28,2),footer=_useState29[0],setFooter=_useState29[1];var _React$useState=_react.default.useState("write"),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),selectedTabFooter=_React$useState2[0],setSelectedTabFooter=_React$useState2[1];var _useState30=(0,_react.useState)(""),_useState31=(0,_slicedToArray2.default)(_useState30,2),header=_useState31[0],setHeader=_useState31[1];var _React$useState3=_react.default.useState("write"),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),selectedTabHeader=_React$useState4[0],setSelectedTabHeader=_React$useState4[1];var handleHeader=function handleHeader(e){setHeader(e);reportDefinitionRequest.report_params.core_params.header=e};var handleFooter=function handleFooter(e){setFooter(e);reportDefinitionRequest.report_params.core_params.footer=e};var handleCheckboxHeaderFooter=function handleCheckboxHeaderFooter(optionId){var newCheckboxIdToSelectedMap=_objectSpread(_objectSpread({},checkboxIdSelectHeaderFooter),(0,_defineProperty2.default)({},optionId,!checkboxIdSelectHeaderFooter[optionId]));setCheckboxIdSelectHeaderFooter(newCheckboxIdToSelectedMap)};var showFooter=checkboxIdSelectHeaderFooter.footer?_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.footer",{defaultMessage:"Footer"}),fullWidth:true},_react.default.createElement(_reactMde.default,{value:footer,onChange:handleFooter,selectedTab:selectedTabFooter,onTabChange:setSelectedTabFooter,toolbarCommands:[["header","bold","italic","strikethrough"],["unordered-list","ordered-list","checked-list"]],generateMarkdownPreview:function generateMarkdownPreview(markdown){return Promise.resolve(_utils.converter.makeHtml(markdown))}})):null;var showHeader=checkboxIdSelectHeaderFooter.header?_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.header",{defaultMessage:"Header"}),fullWidth:true},_react.default.createElement(_reactMde.default,{value:header,onChange:handleHeader,selectedTab:selectedTabHeader,onTabChange:setSelectedTabHeader,toolbarCommands:[["header","bold","italic","strikethrough"],["unordered-list","ordered-list","checked-list"]],generateMarkdownPreview:function generateMarkdownPreview(markdown){return Promise.resolve(_utils.converter.makeHtml(markdown))}})):null;(0,_react.useEffect)((function(){var unmounted=false;if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(response){var reportDefinition,_reportDefinition$rep,header,footer;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reportDefinition=response.report_definition;_reportDefinition$rep=reportDefinition.report_params.core_params,header=_reportDefinition$rep.header,footer=_reportDefinition$rep.footer;if(header){checkboxIdSelectHeaderFooter.header=true;if(!unmounted){setHeader(header)}}if(footer){checkboxIdSelectHeaderFooter.footer=true;if(!unmounted){setFooter(footer)}}case 4:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()).catch((function(error){console.error("error in fetching report definition details:",error)}))}else{checkboxIdSelectHeaderFooter.header="header"in reportDefinitionRequest.report_params.core_params;checkboxIdSelectHeaderFooter.footer="footer"in reportDefinitionRequest.report_params.core_params;if(checkboxIdSelectHeaderFooter.header){setHeader(reportDefinitionRequest.report_params.core_params.header)}if(checkboxIdSelectHeaderFooter.footer){setFooter(reportDefinitionRequest.report_params.core_params.footer)}}return function(){unmounted=true}}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCheckboxGroup,{options:_report_settings_constants.HEADER_FOOTER_CHECKBOX,idToSelectedMap:checkboxIdSelectHeaderFooter,onChange:handleCheckboxHeaderFooter,legend:{children:_i18n.i18n.translate("opensearch.reports.reportSettingProps.headerAndFooter",{defaultMessage:"Report header and footer"})}}),_react.default.createElement(_eui.EuiSpacer,null),showHeader,showFooter)};var VisualReportFormatAndMarkdown=function VisualReportFormatAndMarkdown(){return _react.default.createElement("div",null,_react.default.createElement(PDFandPNGFileFormats,null),_react.default.createElement(_eui.EuiSpacer,null))};var setReportSourceDropdownOption=function setReportSourceDropdownOption(options,reportSource,url){var index=0;if(reportSource===_report_settings_constants.REPORT_SOURCE_TYPES.dashboard){for(index=0;index<options.dashboard.length;++index){if(url.includes(options.dashboard[index].value)){setDashboardSourceSelect([options.dashboard[index]])}}}else if(reportSource===_report_settings_constants.REPORT_SOURCE_TYPES.visualization){for(index=0;index<options.visualizations.length;++index){if(url.includes(options.visualizations[index].value)){setVisualizationSourceSelect([options.visualizations[index]])}}}else if(reportSource===_report_settings_constants.REPORT_SOURCE_TYPES.savedSearch){for(index=0;index<options.savedSearch.length;++index){if(url.includes(options.savedSearch[index].value)){setSavedSearchSourceSelect([options.savedSearch[index]])}}}};var setDefaultFileFormat=function setDefaultFileFormat(fileFormat){var index=0;for(index=0;index<_report_settings_constants.PDF_PNG_FILE_FORMAT_OPTIONS.length;++index){if(fileFormat.toUpperCase()===_report_settings_constants.PDF_PNG_FILE_FORMAT_OPTIONS[index].label){setFileFormat(_report_settings_constants.PDF_PNG_FILE_FORMAT_OPTIONS[index].id)}}};var setDashboardFromInContextMenu=function setDashboardFromInContextMenu(response,id){var index;for(index=0;index<response.dashboard.length;++index){if(id===response.dashboard[index].value){setDashboardSourceSelect([response.dashboard[index]])}}};var setVisualizationFromInContextMenu=function setVisualizationFromInContextMenu(response,id){var index;for(index=0;index<response.visualizations.length;++index){if(id===response.visualizations[index].value){setVisualizationSourceSelect([response.visualizations[index]])}}};var setSavedSearchFromInContextMenu=function setSavedSearchFromInContextMenu(response,id){var index;for(index=0;index<response.savedSearch.length;++index){if(id===response.savedSearch[index].value){setSavedSearchSourceSelect([response.savedSearch[index]])}}};var setNotebookFromInContextMenu=function setNotebookFromInContextMenu(response,id){for(var index=0;index<response.notebooks.length;++index){if(id===response.notebooks[index].value){setNotebooksSourceSelect([response.notebooks[index]])}}};var setInContextDefaultConfiguration=function setInContextDefaultConfiguration(response){var url=window.location.href;var source=(0,_report_settings_helpers.getReportSourceFromURL)(url);var id=(0,_report_settings_helpers.parseInContextUrl)(url,"id");if(source==="dashboard"){setReportSourceId("dashboardReportSource");reportDefinitionRequest.report_params.report_source=_report_settings_constants.REPORT_SOURCE_RADIOS[0].label;setDashboardFromInContextMenu(response,id);reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getDashboardBaseUrlCreate)(edit,id,true)+id}else if(source==="visualize"){setReportSourceId("visualizationReportSource");reportDefinitionRequest.report_params.report_source=_report_settings_constants.REPORT_SOURCE_RADIOS[1].label;setVisualizationFromInContextMenu(response,id);reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getVisualizationBaseUrlCreate)(edit,editDefinitionId,true)+id}else if(source==="discover"){setReportSourceId("savedSearchReportSource");reportDefinitionRequest.report_params.core_params.report_format="csv";reportDefinitionRequest.report_params.core_params.saved_search_id=id;reportDefinitionRequest.report_params.report_source=_report_settings_constants.REPORT_SOURCE_RADIOS[2].label;setSavedSearchFromInContextMenu(response,id);reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getSavedSearchBaseUrlCreate)(edit,editDefinitionId,true)+id}else if(source==="notebook"){setReportSourceId("notebooksReportSource");reportDefinitionRequest.report_params.report_source=_report_settings_constants.REPORT_SOURCE_RADIOS[3].label;setNotebookFromInContextMenu(response,id);reportDefinitionRequest.report_params.core_params.base_url=(0,_report_settings_helpers.getNotebooksBaseUrlCreate)(edit,id,true)+id;reportDefinitionRequest.report_params.core_params.time_duration="PT30M"}};var setDefaultEditValues=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(response,reportSourceOptions){var reportSource;return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setReportName(response.report_definition.report_params.report_name);setReportDescription(response.report_definition.report_params.description);reportDefinitionRequest.report_params.report_name=response.report_definition.report_params.report_name;reportDefinitionRequest.report_params.description=response.report_definition.report_params.description;reportDefinitionRequest.report_params=response.report_definition.report_params;reportSource=response.report_definition.report_params.report_source;_report_settings_constants.REPORT_SOURCE_RADIOS.map((function(radio){if(radio.label===reportSource){setReportSourceId(radio.id);reportDefinitionRequest.report_params.report_source=reportSource}}));setDefaultFileFormat(response.report_definition.report_params.core_params.report_format);setReportSourceDropdownOption(reportSourceOptions,reportSource,response.report_definition.report_params.core_params.base_url);case 9:case"end":return _context2.stop()}}}),_callee2)})));return function setDefaultEditValues(_x2,_x3){return _ref2.apply(this,arguments)}}();var defaultConfigurationEdit=function(){var _ref3=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(httpClientProps){var editData;return _regenerator.default.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:editData={};_context4.next=3;return httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref4=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(response){return _regenerator.default.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:editData=response;case 1:case"end":return _context3.stop()}}}),_callee3)})));return function(_x5){return _ref4.apply(this,arguments)}}()).catch((function(error){console.error("error in fetching report definition details:",error)}));case 3:return _context4.abrupt("return",editData);case 4:case"end":return _context4.stop()}}}),_callee4)})));return function defaultConfigurationEdit(_x4){return _ref3.apply(this,arguments)}}();var defaultConfigurationCreate=function(){var _ref5=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee9(httpClientProps){var reportSourceOptions;return _regenerator.default.wrap((function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:reportSourceOptions={dashboard:[],visualizations:[],savedSearch:[],notebooks:[]};reportDefinitionRequest.report_params.core_params.report_format=fileFormat;_context9.next=4;return httpClientProps.get("../api/reporting/getReportSource/dashboard").then(function(){var _ref6=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee5(response){var dashboardOptions;return _regenerator.default.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dashboardOptions=(0,_report_settings_helpers.getDashboardOptions)(response["hits"]["hits"]);reportSourceOptions.dashboard=dashboardOptions;handleDashboards(dashboardOptions);if(!edit){reportDefinitionRequest.report_params.report_source="Dashboard"}case 4:case"end":return _context5.stop()}}}),_callee5)})));return function(_x7){return _ref6.apply(this,arguments)}}()).catch((function(error){console.log("error when fetching dashboards:",error)}));case 4:_context9.next=6;return httpClientProps.get("../api/reporting/getReportSource/visualization").then(function(){var _ref7=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee6(response){var visualizationOptions;return _regenerator.default.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:visualizationOptions=(0,_report_settings_helpers.getVisualizationOptions)(response["hits"]["hits"]);reportSourceOptions.visualizations=visualizationOptions;_context6.next=4;return handleVisualizations(visualizationOptions);case 4:case"end":return _context6.stop()}}}),_callee6)})));return function(_x8){return _ref7.apply(this,arguments)}}()).catch((function(error){console.log("error when fetching visualizations:",error)}));case 6:_context9.next=8;return httpClientProps.get("../api/reporting/getReportSource/search").then(function(){var _ref8=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee7(response){var savedSearchOptions;return _regenerator.default.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:savedSearchOptions=(0,_report_settings_helpers.getSavedSearchOptions)(response["hits"]["hits"]);reportSourceOptions.savedSearch=savedSearchOptions;_context7.next=4;return handleSavedSearches(savedSearchOptions);case 4:case"end":return _context7.stop()}}}),_callee7)})));return function(_x9){return _ref8.apply(this,arguments)}}()).catch((function(error){console.log("error when fetching saved searches:",error)}));case 8:_context9.next=10;return httpClientProps.get("../api/observability/notebooks/").catch((function(error){console.error("error fetching notebooks, retrying with legacy api",error);return httpClientProps.get("../api/notebooks/")})).then(function(){var _ref9=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee8(response){var notebooksOptions;return _regenerator.default.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:notebooksOptions=(0,_report_settings_helpers.getNotebooksOptions)(response.data);reportSourceOptions.notebooks=notebooksOptions;_context8.next=4;return handleNotebooks(notebooksOptions);case 4:case"end":return _context8.stop()}}}),_callee8)})));return function(_x10){return _ref9.apply(this,arguments)}}()).catch((function(error){console.log("error when fetching notebooks:",error)}));case 10:return _context9.abrupt("return",reportSourceOptions);case 11:case"end":return _context9.stop()}}}),_callee9)})));return function defaultConfigurationCreate(_x6){return _ref5.apply(this,arguments)}}();(0,_react.useEffect)((function(){var reportSourceOptions={};var editData={};if(edit){defaultConfigurationEdit(httpClientProps).then(function(){var _ref10=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee10(response){return _regenerator.default.wrap((function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:editData=response;case 1:case"end":return _context10.stop()}}}),_callee10)})));return function(_x11){return _ref10.apply(this,arguments)}}())}defaultConfigurationCreate(httpClientProps).then(function(){var _ref11=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee11(response){return _regenerator.default.wrap((function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:reportSourceOptions=response;if(window.location.href.indexOf("?")>-1){setInContextDefaultConfiguration(response)}if(edit){setDefaultEditValues(editData,reportSourceOptions)}case 3:case"end":return _context11.stop()}}}),_callee11)})));return function(_x12){return _ref11.apply(this,arguments)}}())}),[]);var displayDashboardSelect=reportSourceId==="dashboardReportSource"?_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{id:"reportSourceDashboardSelect",label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.selectDashboard",{defaultMessage:"Select dashboard"}),isInvalid:showSettingsReportSourceError,error:settingsReportSourceErrorMessage},_react.default.createElement(_eui.EuiComboBox,{id:"reportSourceDashboardSelector",placeholder:_i18n.i18n.translate("opensearch.reports.reportSettingProps.placeholder.selectDashboard",{defaultMessage:"Select a dashboard"}),singleSelection:{asPlainText:true},options:dashboards,onChange:handleDashboardSelect,selectedOptions:dashboardSourceSelect})),_react.default.createElement(_eui.EuiSpacer,null)):null;var displayVisualizationSelect=reportSourceId==="visualizationReportSource"?_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.selectVisualization",{defaultMessage:"Select visualization"}),isInvalid:showSettingsReportSourceError,error:settingsReportSourceErrorMessage},_react.default.createElement(_eui.EuiComboBox,{id:"reportSourceVisualizationSelect",placeholder:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.placeholder.selectAVisualization",{defaultMessage:"Select a visualization"}),singleSelection:{asPlainText:true},options:visualizations,onChange:handleVisualizationSelect,selectedOptions:visualizationSourceSelect})),_react.default.createElement(_eui.EuiSpacer,null)):null;var displaySavedSearchSelect=reportSourceId==="savedSearchReportSource"?_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.selectSavedSearch",{defaultMessage:"Select saved search"}),isInvalid:showSettingsReportSourceError,error:settingsReportSourceErrorMessage},_react.default.createElement(_eui.EuiComboBox,{id:"reportSourceSavedSearchSelect",placeholder:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.placeholder.selectASavedSearch",{defaultMessage:"Select a saved search"}),singleSelection:{asPlainText:true},options:savedSearches,onChange:handleSavedSearchSelect,selectedOptions:savedSearchSourceSelect})),_react.default.createElement(_eui.EuiSpacer,null)):null;var displayVisualReportsFormatAndMarkdown=reportSourceId!="savedSearchReportSource"?_react.default.createElement("div",null,_react.default.createElement(VisualReportFormatAndMarkdown,null),_react.default.createElement(SettingsMarkdown,null)):_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.fileFormat",{defaultMessage:"File format"})},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,"CSV"))));var displayNotebooksSelect=reportSourceId==="notebooksReportSource"?_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:"Select notebook",isInvalid:showSettingsReportSourceError,error:settingsReportSourceErrorMessage},_react.default.createElement(_eui.EuiComboBox,{id:"reportSourceNotebooksSelect",placeholder:"Select a notebook",singleSelection:{asPlainText:true},options:notebooks,onChange:handleNotebooksSelect,selectedOptions:notebooksSourceSelect})),_react.default.createElement(_eui.EuiSpacer,null)):null;var displayTimeRangeSelect=reportSourceId!="notebooksReportSource"?_react.default.createElement("div",null,_react.default.createElement(_time_range.TimeRangeSelect,{timeRange:timeRange,reportDefinitionRequest:reportDefinitionRequest,edit:edit,id:editDefinitionId,httpClientProps:httpClientProps,showTimeRangeError:showTimeRangeError}),_react.default.createElement(_eui.EuiSpacer,null)):null;return _react.default.createElement(_eui.EuiPageContent,{panelPaddingSize:"l"},_react.default.createElement(_eui.EuiPageHeader,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.reportSettings",{defaultMessage:"Report settings"})))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.name",{defaultMessage:"Name"}),helpText:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.help.name",{defaultMessage:"Valid characters are a-z, A-Z, 0-9, (), [], _ (underscore), - (hyphen) and (space)."}),isInvalid:showSettingsReportNameError,error:settingsReportNameErrorMessage,id:"reportSettingsName"},_react.default.createElement(_eui.EuiFieldText,{placeholder:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.placeholder.reportName",{defaultMessage:"Report name (e.g Log Traffic Daily Report)"}),value:reportName,onChange:handleReportName})))),_react.default.createElement(_eui.EuiFlexGroup,{style:{maxWidth:600}},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.description",{defaultMessage:"Description (optional)"}),id:"reportSettingsDescription"},_react.default.createElement(_eui.EuiTextArea,{placeholder:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.placeholder.description",{defaultMessage:"Describe this report (e.g Morning daily reports for log traffic)"}),value:reportDescription,onChange:handleReportDescription})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportSettingProps.form.reportSource",{defaultMessage:"Report source"})},_react.default.createElement(_eui.EuiRadioGroup,{options:_report_settings_constants.REPORT_SOURCE_RADIOS,idSelected:reportSourceId,onChange:handleReportSource,disabled:edit})),_react.default.createElement(_eui.EuiSpacer,null),displayDashboardSelect,displayVisualizationSelect,displaySavedSearchSelect,displayNotebooksSelect,displayTimeRangeSelect,displayVisualReportsFormatAndMarkdown,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_report_trigger.ReportTrigger,{edit:edit,editDefinitionId:editDefinitionId,httpClientProps:httpClientProps,reportDefinitionRequest:reportDefinitionRequest,showTriggerIntervalNaNError:showTriggerIntervalNaNError,showCronError:showCronError})))}},740:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.TimeRangeSelect=TimeRangeSelect;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _moment=_interopRequireDefault(__webpack_require__(127));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _report_settings_helpers=__webpack_require__(662);var _datemath=_interopRequireDefault(__webpack_require__(193));var _eui=__webpack_require__(189);var _report_settings_constants=__webpack_require__(653);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function TimeRangeSelect(props){var reportDefinitionRequest=props.reportDefinitionRequest,timeRange=props.timeRange,edit=props.edit,id=props.id,httpClientProps=props.httpClientProps,showTimeRangeError=props.showTimeRangeError;var _useState=(0,_react.useState)([]),_useState2=(0,_slicedToArray2.default)(_useState,2),recentlyUsedRanges=_useState2[0],setRecentlyUsedRanges=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=(0,_react.useState)("now-30m"),_useState6=(0,_slicedToArray2.default)(_useState5,2),start=_useState6[0],setStart=_useState6[1];var _useState7=(0,_react.useState)("now"),_useState8=(0,_slicedToArray2.default)(_useState7,2),end=_useState8[0],setEnd=_useState8[1];var _useState9=(0,_react.useState)([]),_useState10=(0,_slicedToArray2.default)(_useState9,2),toasts=_useState10[0],setToasts=_useState10[1];var addInvalidTimeRangeToastHandler=function addInvalidTimeRangeToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.timeRange.invalidTimeRange",{defaultMessage:"Invalid time range selected."}),color:"danger",iconType:"alert",id:"timeRangeErrorToast"};setToasts(toasts.concat(errorToast))};var handleInvalidTimeRangeToast=function handleInvalidTimeRangeToast(){addInvalidTimeRangeToastHandler()};var removeToast=function removeToast(removedToast){setToasts(toasts.filter((function(toast){return toast.id!==removedToast.id})))};var isValidTimeRange=function isValidTimeRange(timeRangeMoment,limit,handleInvalidTimeRangeToast){if(limit==="start"){if(!timeRangeMoment||!timeRangeMoment.isValid()){handleInvalidTimeRangeToast()}}else if(limit==="end"){if(!timeRangeMoment||!timeRangeMoment.isValid()||timeRangeMoment>_moment.default.now()){handleInvalidTimeRangeToast()}}};var setDefaultEditTimeRange=function setDefaultEditTimeRange(duration,unmounted){var time_difference=_moment.default.now()-duration;var fromDate=new Date(time_difference);parseTimeRange(fromDate,end,reportDefinitionRequest);if(!unmounted){setStart(fromDate.toISOString());setEnd(end)}};var checkValidAbsoluteEndDate=function checkValidAbsoluteEndDate(end){var endDate=new Date(end);var nowDate=new Date(_moment.default.now());var valid=true;if(endDate.getTime()>nowDate.getTime()){end="now";valid=false}return valid};(0,_react.useEffect)((function(){var unmounted=false;if(window.location.href.indexOf("?")>-1){var url=window.location.href;var timeFrom=(0,_report_settings_helpers.parseInContextUrl)(url,"timeFrom");var timeTo=(0,_report_settings_helpers.parseInContextUrl)(url,"timeTo");parseTimeRange(timeFrom,timeTo,reportDefinitionRequest);if(!unmounted){setStart(timeFrom);setEnd(timeTo)}}else{if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(id)).then(function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(response){var duration;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:duration=response.report_definition.report_params.core_params.time_duration;duration=_moment.default.duration(duration);setDefaultEditTimeRange(duration,unmounted);case 3:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()).catch((function(error){console.error("error in fetching report definition details:",error)}))}else{parseTimeRange(start,end,reportDefinitionRequest)}}return function(){unmounted=true}}),[]);var onTimeChange=function onTimeChange(_ref2){var start=_ref2.start,end=_ref2.end;isValidTimeRange(_datemath.default.parse(start),"start",handleInvalidTimeRangeToast);isValidTimeRange(_datemath.default.parse(end,{roundUp:true}),"end",handleInvalidTimeRangeToast);var recentlyUsedRange=recentlyUsedRanges.filter((function(recentlyUsedRange){var isDuplicate=recentlyUsedRange.start===start&&recentlyUsedRange.end===end;return!isDuplicate}));var validEndDate=checkValidAbsoluteEndDate(end);if(!validEndDate){handleInvalidTimeRangeToast();return}recentlyUsedRange.unshift({start:start,end:end});setStart(start);setEnd(end);setRecentlyUsedRanges(recentlyUsedRange.length>10?recentlyUsedRange.slice(0,9):recentlyUsedRange);setIsLoading(true);startLoading();parseTimeRange(start,end,reportDefinitionRequest)};var parseTimeRange=function parseTimeRange(start,end,reportDefinitionRequest){timeRange.timeFrom=_datemath.default.parse(start);timeRange.timeTo=_datemath.default.parse(end);var timeDuration=_moment.default.duration(_datemath.default.parse(end).diff(_datemath.default.parse(start)));reportDefinitionRequest.report_params.core_params.time_duration=timeDuration.toISOString()};var startLoading=function startLoading(){setTimeout(stopLoading,1e3)};var stopLoading=function stopLoading(){setIsLoading(false)};return _react.default.createElement("div",null,_react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.timeRange.label.timeRange",{defaultMessage:"Time range"}),helpText:_i18n.i18n.translate("opensearch.reports.timeRange.help.timeRange",{defaultMessage:"Time range is relative to the report creation date on the report trigger."}),isInvalid:showTimeRangeError,error:_i18n.i18n.translate("opensearch.reports.timeRange.invalidTimeRange",{defaultMessage:"Invalid time range selected."})},_react.default.createElement(_eui.EuiSuperDatePicker,{isDisabled:false,isLoading:isLoading,start:start,end:end,onTimeChange:onTimeChange,showUpdateButton:false,commonlyUsedRanges:_report_settings_constants.commonTimeRanges}))),_react.default.createElement("div",null,_react.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:removeToast,toastLifeTimeMs:6e3})))}},741:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ReportTrigger",{enumerable:true,get:function get(){return _report_trigger.ReportTrigger}});var _report_trigger=__webpack_require__(742)},742:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportTrigger=ReportTrigger;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _defineProperty2=_interopRequireDefault(__webpack_require__(192));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _moment=_interopRequireDefault(__webpack_require__(127));var _report_trigger_constants=__webpack_require__(664);var _timezone=__webpack_require__(743);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ReportTrigger(props){var edit=props.edit,editDefinitionId=props.editDefinitionId,reportDefinitionRequest=props.reportDefinitionRequest,httpClientProps=props.httpClientProps,showTriggerIntervalNaNError=props.showTriggerIntervalNaNError,showCronError=props.showCronError;var _useState=(0,_react.useState)(_report_trigger_constants.TRIGGER_TYPE_OPTIONS[0].id),_useState2=(0,_slicedToArray2.default)(_useState,2),reportTriggerType=_useState2[0],setReportTriggerType=_useState2[1];var _useState3=(0,_react.useState)(_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].label),_useState4=(0,_slicedToArray2.default)(_useState3,2),scheduleType=_useState4[0],setScheduleType=_useState4[1];var _useState5=(0,_react.useState)("daily"),_useState6=(0,_slicedToArray2.default)(_useState5,2),scheduleRecurringFrequency=_useState6[0],setScheduleRecurringFrequency=_useState6[1];var _useState7=(0,_react.useState)((0,_moment.default)()),_useState8=(0,_slicedToArray2.default)(_useState7,2),recurring=_useState8[0],setRecurringTime=_useState8[1];var _useState9=(0,_react.useState)((0,_defineProperty2.default)({},"monCheckbox",true)),_useState10=(0,_slicedToArray2.default)(_useState9,2),weeklyCheckbox=_useState10[0],setWeeklyCheckbox=_useState10[1];var _useState12=(0,_react.useState)(_report_trigger_constants.MONTHLY_ON_THE_OPTIONS[0].value),_useState13=(0,_slicedToArray2.default)(_useState12,2),monthlySelect=_useState13[0],setMonthlySelect=_useState13[1];var handleReportTriggerType=function handleReportTriggerType(e){setReportTriggerType(e);reportDefinitionRequest.trigger.trigger_type=e;if(e==="On demand"){delete reportDefinitionRequest.trigger.trigger_params}};var handleScheduleType=function handleScheduleType(e){setScheduleType(e);if(e===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[1].label){delete reportDefinitionRequest.trigger.trigger_params.schedule.interval}else if(e===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].label){delete reportDefinitionRequest.trigger.trigger_params.schedule.cron}};var handleScheduleRecurringFrequency=function handleScheduleRecurringFrequency(e){setScheduleRecurringFrequency(e.target.value);reportDefinitionRequest.trigger.trigger_params.schedule_type=e.target.value};var handleRecurringTime=function handleRecurringTime(e){setRecurringTime(e)};var handleWeeklyCheckbox=function handleWeeklyCheckbox(e){var newCheckboxIdToSelectedMap=_objectSpread(_objectSpread({},weeklyCheckbox),(0,_defineProperty2.default)({},e,!weeklyCheckbox[e]));setWeeklyCheckbox(newCheckboxIdToSelectedMap)};var handleMonthlySelect=function handleMonthlySelect(e){setMonthlySelect(e.target.value)};var RequestTime=function RequestTime(){(0,_react.useEffect)((function(){var recurringDaily={interval:{period:1,unit:"DAYS",start_time:recurring.valueOf()}};reportDefinitionRequest.trigger.trigger_params=_objectSpread(_objectSpread({},reportDefinitionRequest.trigger.trigger_params),{},{enabled_time:recurring.valueOf(),schedule:recurringDaily})}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.form.requestTime",{defaultMessage:"request time"})},_react.default.createElement(_eui.EuiDatePicker,{showTimeSelect:true,showTimeSelectOnly:true,selected:recurring,onChange:handleRecurringTime,dateFormat:"HH:mm",timeFormat:"HH:mm"})),_react.default.createElement(_eui.EuiSpacer,null))};var RecurringDaily=function RecurringDaily(){var _useState14=(0,_react.useState)((0,_moment.default)()),_useState15=(0,_slicedToArray2.default)(_useState14,2),recurringDailyTime=_useState15[0],setRecurringDailyTime=_useState15[1];var handleRecurringDailyTime=function handleRecurringDailyTime(e){setRecurringDailyTime(e);reportDefinitionRequest.trigger.trigger_params.schedule.interval.start_time=e.valueOf()};var setDailyParams=function setDailyParams(){var recurringDaily={interval:{period:1,unit:"DAYS",start_time:recurringDailyTime.valueOf()}};reportDefinitionRequest.trigger.trigger_params=_objectSpread(_objectSpread({},reportDefinitionRequest.trigger.trigger_params),{},{enabled_time:recurringDailyTime.valueOf(),schedule:recurringDaily})};var isDailySchedule=function isDailySchedule(response){return response.report_definition.trigger.trigger_params.schedule_type===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].id&&response.report_definition.trigger.trigger_params.schedule.interval.period===1&&response.report_definition.trigger.trigger_params.schedule.interval==="DAYS"};(0,_react.useEffect)((function(){var unmounted=false;if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(response){var date;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(response.report_definition.trigger.trigger_type==="On demand"){setDailyParams()}else if(isDailySchedule(response)){date=(0,_moment.default)(response.report_definition.trigger.trigger_params.schedule.interval.start_time);if(!unmounted){setRecurringDailyTime(date)}}else if(reportDefinitionRequest.trigger.trigger_params.schedule_type===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].id){setDailyParams()}case 1:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())}else{setDailyParams()}return function(){unmounted=true}}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.schedule.requestTime",{defaultMessage:"request time"})},_react.default.createElement(_eui.EuiDatePicker,{showTimeSelect:true,showTimeSelectOnly:true,selected:recurringDailyTime,onChange:handleRecurringDailyTime,dateFormat:"HH:mm",timeFormat:"HH:mm"})),_react.default.createElement(_eui.EuiSpacer,null))};var RecurringInterval=function RecurringInterval(){var _useState16=(0,_react.useState)(""),_useState17=(0,_slicedToArray2.default)(_useState16,2),intervalText=_useState17[0],setIntervalText=_useState17[1];var _useState18=(0,_react.useState)(_report_trigger_constants.INTERVAL_TIME_PERIODS[0].value),_useState19=(0,_slicedToArray2.default)(_useState18,2),intervalTimePeriod=_useState19[0],setIntervalTimePeriod=_useState19[1];var _useState20=(0,_react.useState)((0,_moment.default)()),_useState21=(0,_slicedToArray2.default)(_useState20,2),recurringIntervalTime=_useState21[0],setRecurringIntervalTime=_useState21[1];var handleRecurringIntervalTime=function handleRecurringIntervalTime(e){setRecurringIntervalTime(e);reportDefinitionRequest.trigger.trigger_params.schedule.interval.start_time=e.valueOf()};var handleIntervalText=function handleIntervalText(e){setIntervalText(e.target.value)};var handleIntervalTimePeriod=function handleIntervalTimePeriod(e){setIntervalTimePeriod(e.target.value)};(0,_react.useEffect)((function(){var interval={interval:{period:parseInt(intervalText,10),unit:intervalTimePeriod,start_time:recurringIntervalTime.valueOf()}};reportDefinitionRequest.trigger.trigger_params=_objectSpread(_objectSpread({},reportDefinitionRequest.trigger.trigger_params),{},{enabled_time:recurringIntervalTime.valueOf(),schedule:interval})}),[intervalTimePeriod,intervalText]);(0,_react.useEffect)((function(){var unmounted=false;if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(response){var date;return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(response.report_definition.trigger.trigger_params.schedule_type===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].id){date=(0,_moment.default)(response.report_definition.trigger.trigger_params.schedule.interval.start_time);if(!unmounted){setRecurringIntervalTime(date);setIntervalText(response.report_definition.trigger.trigger_params.schedule.interval.period.toString());setIntervalTimePeriod(response.report_definition.trigger.trigger_params.schedule.interval.unit)}}case 1:case"end":return _context2.stop()}}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}())}return function(){unmounted=true}}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.recurring.every",{defaultMessage:"every"}),isInvalid:showTriggerIntervalNaNError,error:_i18n.i18n.translate("opensearch.reports.reportTrigger.recurring.intervalMustBeANumber",{defaultMessage:"Interval must be a number."})},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFieldText,{id:"recurringByIntervalNumber",placeholder:_i18n.i18n.translate("opensearch.reports.reportTrigger.recurring.placeholder.mustBeANumber",{defaultMessage:"Must be a number"}),value:intervalText,onChange:handleIntervalText})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSelect,{id:"intervalTimeUnit",options:_report_trigger_constants.INTERVAL_TIME_PERIODS,value:intervalTimePeriod,onChange:handleIntervalTimePeriod}))))),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.recurring.startTime",{defaultMessage:"start time"})},_react.default.createElement(_eui.EuiDatePicker,{showTimeSelect:true,showTimeSelectOnly:true,selected:recurringIntervalTime,onChange:handleRecurringIntervalTime,dateFormat:"HH:mm",timeFormat:"HH:mm"})))};var RecurringWeekly=function RecurringWeekly(){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.weekly.every",{defaultMessage:"every"})},_react.default.createElement(_eui.EuiCheckboxGroup,{options:_report_trigger_constants.WEEKLY_CHECKBOX_OPTIONS,idToSelectedMap:weeklyCheckbox,onChange:handleWeeklyCheckbox})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(RequestTime,null))};var RecurringMonthly=function RecurringMonthly(){var _useState22=(0,_react.useState)(""),_useState23=(0,_slicedToArray2.default)(_useState22,2),monthlyDayNumber=_useState23[0],setMonthlyDayNumber=_useState23[1];var handleMonthlyDayNumber=function handleMonthlyDayNumber(e){setMonthlyDayNumber(e.target.value)};return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.monthly.onThe",{defaultMessage:"on the"})},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSelect,{id:"monthlySelect",options:_report_trigger_constants.MONTHLY_ON_THE_OPTIONS,value:monthlySelect,onChange:handleMonthlySelect})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFieldNumber,{placeholder:_i18n.i18n.translate("opensearch.reports.reportTrigger.monthly.placeholder.dayOfMonth",{defaultMessage:"Day of month"}),value:monthlyDayNumber,onChange:handleMonthlyDayNumber})))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(RequestTime,null))};var CronExpression=function CronExpression(){var _useState24=(0,_react.useState)(""),_useState25=(0,_slicedToArray2.default)(_useState24,2),cronExpression=_useState25[0],setCronExpression=_useState25[1];var handleCronExpression=function handleCronExpression(e){setCronExpression(e.target.value);reportDefinitionRequest.trigger.trigger_params.schedule.cron.expression=e.target.value};var setCronParams=function setCronParams(){var cron={cron:{expression:"",timezone:_report_trigger_constants.TIMEZONE_OPTIONS[0].value}};reportDefinitionRequest.trigger.trigger_params=_objectSpread(_objectSpread({},reportDefinitionRequest.trigger.trigger_params),{},{enabled_time:Date.now().valueOf(),schedule:cron})};(0,_react.useEffect)((function(){if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref3=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(response){return _regenerator.default.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(response.report_definition.trigger.trigger_type==="On demand"){setCronParams()}else if(response.report_definition.trigger.trigger_params.schedule_type===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[1].id){setCronExpression(response.report_definition.trigger.trigger_params.schedule.cron.expression)}else{setCronParams()}case 1:case"end":return _context3.stop()}}}),_callee3)})));return function(_x3){return _ref3.apply(this,arguments)}}())}else{setCronParams()}}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{id:"cronExpressionFieldText",label:_i18n.i18n.translate("opensearch.reports.reportTrigger.cron.customCronExpression",{defaultMessage:"custom cron expression"}),isInvalid:showCronError,error:"Invalid cron expression.",labelAppend:_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{href:"https://opensearch.org/docs/monitoring-plugins/alerting/cron/",target:"_blank",external:true},"Cron help"))},_react.default.createElement(_eui.EuiFieldText,{id:"cronExpressionFieldText",placeholder:_i18n.i18n.translate("opensearch.reports.reportTrigger.cron.placeholder.formula",{defaultMessage:"Ex: 0 12 * * * (Fire at 12:00 PM (noon) every day)"}),value:cronExpression,onChange:handleCronExpression})),_react.default.createElement(_eui.EuiSpacer,null))};var ScheduleTriggerRecurring=function ScheduleTriggerRecurring(){var display_daily=scheduleRecurringFrequency==="daily"?_react.default.createElement(RecurringDaily,null):null;var display_interval=scheduleRecurringFrequency==="byInterval"?_react.default.createElement(RecurringInterval,null):null;var display_weekly=scheduleRecurringFrequency==="weekly"?_react.default.createElement(RecurringWeekly,null):null;var display_monthly=scheduleRecurringFrequency==="monthly"?_react.default.createElement(RecurringMonthly,null):null;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.scheduleTriggerRecurring.frequency",{defaultMessage:"frequency"}),id:"recurringFrequencySelect"},_react.default.createElement(_eui.EuiSelect,{options:_report_trigger_constants.SCHEDULE_RECURRING_OPTIONS,value:scheduleRecurringFrequency,onChange:handleScheduleRecurringFrequency})),_react.default.createElement(_eui.EuiSpacer,null),display_daily,display_interval,display_weekly,display_monthly)};var ScheduleTrigger=function ScheduleTrigger(){var display_recurring=scheduleType===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].id?_react.default.createElement(ScheduleTriggerRecurring,null):null;var display_cron=scheduleType===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[1].id?_react.default.createElement("div",null,_react.default.createElement(CronExpression,null),_react.default.createElement(_timezone.TimezoneSelect,{reportDefinitionRequest:reportDefinitionRequest,httpClientProps:httpClientProps,edit:edit,editDefinitionId:editDefinitionId})):null;(0,_react.useEffect)((function(){_report_trigger_constants.SCHEDULE_TYPE_OPTIONS.map((function(item){if(item.id===scheduleType){reportDefinitionRequest.trigger.trigger_params=_objectSpread(_objectSpread({},reportDefinitionRequest.trigger.trigger_params),{},{schedule_type:item.id});if(!edit){reportDefinitionRequest.trigger.trigger_params.enabled=true}if(!("enabled"in reportDefinitionRequest.trigger.trigger_params)){reportDefinitionRequest.trigger.trigger_params.enabled=true}}}))}),[scheduleType]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.scheduleTrigger.requestTime",{defaultMessage:"request time"})},_react.default.createElement(_eui.EuiRadioGroup,{options:_report_trigger_constants.SCHEDULE_TYPE_OPTIONS,idSelected:scheduleType,onChange:handleScheduleType})),_react.default.createElement(_eui.EuiSpacer,null),display_recurring,display_cron)};var schedule=reportTriggerType==="Schedule"?_react.default.createElement(ScheduleTrigger,null):null;var defaultEditTriggerType=function defaultEditTriggerType(trigger_type){var index=0;for(index;index<_report_trigger_constants.TRIGGER_TYPE_OPTIONS.length;++index){if(_report_trigger_constants.TRIGGER_TYPE_OPTIONS[index].id===trigger_type){setReportTriggerType(_report_trigger_constants.TRIGGER_TYPE_OPTIONS[index].id)}}};var defaultEditRequestType=function defaultEditRequestType(trigger){var index=0;for(index;index<_report_trigger_constants.SCHEDULE_TYPE_OPTIONS.length;++index){if(_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[index].id===trigger.trigger_params.schedule_type){setScheduleType(_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[index].id)}}};var defaultEditScheduleFrequency=function defaultEditScheduleFrequency(trigger_params){if(trigger_params.schedule_type===_report_trigger_constants.SCHEDULE_TYPE_OPTIONS[0].id){if(trigger_params.schedule.interval.unit==="Days"&&trigger_params.schedule.interval.period===1){setScheduleRecurringFrequency("daily")}else{setScheduleRecurringFrequency("byInterval")}}};var defaultConfigurationEdit=function defaultConfigurationEdit(trigger){defaultEditTriggerType(trigger.trigger_type);if(trigger.trigger_type==="Schedule"){defaultEditScheduleFrequency(trigger.trigger_params);defaultEditRequestType(trigger)}else if(trigger.trigger_type=="On demand"){setReportTriggerType("On demand");reportDefinitionRequest.trigger.trigger_type="On demand"}};(0,_react.useEffect)((function(){if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref4=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee4(response){return _regenerator.default.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:defaultConfigurationEdit(response.report_definition.trigger);reportDefinitionRequest.trigger=response.report_definition.trigger;case 2:case"end":return _context4.stop()}}}),_callee4)})));return function(_x4){return _ref4.apply(this,arguments)}}())}else{_report_trigger_constants.TRIGGER_TYPE_OPTIONS.map((function(item){if(item.id===reportTriggerType){reportDefinitionRequest.trigger.trigger_type=item.id}}))}}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.form.triggerType",{defaultMessage:"Report trigger"}),id:"reportDefinitionTriggerTypes"},_react.default.createElement(_eui.EuiRadioGroup,{options:_report_trigger_constants.TRIGGER_TYPE_OPTIONS,idSelected:reportTriggerType,onChange:handleReportTriggerType})),_react.default.createElement(_eui.EuiSpacer,null),schedule)}},743:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.TimezoneSelect=TimezoneSelect;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _eui=__webpack_require__(189);var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _report_trigger_constants=__webpack_require__(664);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function TimezoneSelect(props){var reportDefinitionRequest=props.reportDefinitionRequest,httpClientProps=props.httpClientProps,edit=props.edit,editDefinitionId=props.editDefinitionId;var _useState=(0,_react.useState)(_report_trigger_constants.TIMEZONE_OPTIONS[0].value),_useState2=(0,_slicedToArray2.default)(_useState,2),timezone=_useState2[0],setTimezone=_useState2[1];var handleTimezone=function handleTimezone(e){setTimezone(e.target.value);if(reportDefinitionRequest.trigger.trigger_params.schedule_type==="Cron based"){reportDefinitionRequest.trigger.trigger_params.schedule.cron.timezone=e.target.value}};(0,_react.useEffect)((function(){var unmounted=false;if(edit){httpClientProps.get("../api/reporting/reportDefinitions/".concat(editDefinitionId)).then(function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(response){return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!unmounted&&reportDefinitionRequest.trigger.trigger_params.schedule_type==="Cron based"){setTimezone(response.report_definition.trigger.trigger_params.schedule.cron.timezone)}case 1:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())}return function(){unmounted=true}}),[]);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("opensearch.reports.reportTrigger.timezone",{defaultMessage:"Timezone"})},_react.default.createElement(_eui.EuiSelect,{id:"setTimezone",options:_report_trigger_constants.TIMEZONE_OPTIONS,value:timezone,onChange:handleTimezone})))}},745:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.Main=Main;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _reports_table=__webpack_require__(746);var _report_definitions_table=__webpack_require__(748);var _main_utils=__webpack_require__(190);var _utils=__webpack_require__(191);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var reportCountStyles={color:"gray",display:"inline"};function Main(props){var _useState=(0,_react.useState)([]),_useState2=(0,_slicedToArray2.default)(_useState,2),reportsTableContent=_useState2[0],setReportsTableContent=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2.default)(_useState3,2),reportDefinitionsTableContent=_useState4[0],setReportDefinitionsTableContent=_useState4[1];var _useState5=(0,_react.useState)([]),_useState6=(0,_slicedToArray2.default)(_useState5,2),toasts=_useState6[0],setToasts=_useState6[1];var addPermissionsMissingDownloadToastHandler=function addPermissionsMissingDownloadToastHandler(){var toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.GENERATING_REPORT);setToasts(toasts.concat(toast))};var handlePermissionsMissingDownloadToast=function handlePermissionsMissingDownloadToast(){addPermissionsMissingDownloadToastHandler()};var addReportsTableContentErrorToastHandler=function addReportsTableContentErrorToastHandler(errorType){var toast={};if(errorType==="permissions"){toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.LOADING_REPORTS_TABLE)}else if(errorType==="API"){toast={title:_i18n.i18n.translate("opensearch.reports.main.errorGeneratingReportsTable.",{defaultMessage:"Error generating reports table."}),color:"danger",iconType:"alert",id:"reportsTableErrorToast"}}setToasts(toasts.concat(toast))};var handleReportsTableErrorToast=function handleReportsTableErrorToast(errorType){addReportsTableContentErrorToastHandler(errorType)};var addReportDefinitionsTableErrorToastHandler=function addReportDefinitionsTableErrorToastHandler(errorType){var toast={};if(errorType==="permissions"){toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.LOADING_DEFINITIONS_TABLE)}else if(errorType==="API"){toast={title:_i18n.i18n.translate("opensearch.reports.main.errorGeneratingReportDefinitionsTable.",{defaultMessage:"Error generating report definitions table."}),color:"danger",iconType:"alert",id:"reportDefinitionsTableErrorToast"}}setToasts(toasts.concat(toast))};var handleReportDefinitionsTableErrorToast=function handleReportDefinitionsTableErrorToast(errorType){addReportDefinitionsTableErrorToastHandler(errorType)};var addErrorOnDemandDownloadToastHandler=function addErrorOnDemandDownloadToastHandler(){var title=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_i18n.i18n.translate("opensearch.reports.main.errorDownloadingReport",{defaultMessage:"Error downloading report."});var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var errorToast={title:title,text:text,color:"danger",iconType:"alert",id:"onDemandDownloadErrorToast"};setToasts(toasts.concat(errorToast))};var handleOnDemandDownloadErrorToast=function handleOnDemandDownloadErrorToast(title,text){addErrorOnDemandDownloadToastHandler(title,text)};var addSuccessOnDemandDownloadToastHandler=function addSuccessOnDemandDownloadToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.main.successfullyDownloadedReport",{defaultMessage:"Successfully downloaded report."}),color:"success",iconType:"check",id:"onDemandDownloadSuccessToast"};setToasts(toasts.concat(successToast))};var handleOnDemandDownloadSuccessToast=function handleOnDemandDownloadSuccessToast(){addSuccessOnDemandDownloadToastHandler()};var addCreateReportDefinitionSuccessToastHandler=function addCreateReportDefinitionSuccessToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.main.successfullyCreatedReportDefinition",{defaultMessage:"Successfully created report definition."}),color:"success",iconType:"check",id:"createReportDefinitionSuccessToast"};setToasts(toasts.concat(successToast))};var handleCreateReportDefinitionSuccessToast=function handleCreateReportDefinitionSuccessToast(){addCreateReportDefinitionSuccessToastHandler()};var addEditReportDefinitionSuccessToastHandler=function addEditReportDefinitionSuccessToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.main.successfullyUpdatedReportDefinition",{defaultMessage:"Successfully updated report definition."}),color:"success",iconType:"check",id:"editReportDefinitionSuccessToast"};setToasts(toasts.concat(successToast))};var handleEditReportDefinitionSuccessToast=function handleEditReportDefinitionSuccessToast(){addEditReportDefinitionSuccessToastHandler()};var addDeleteReportDefinitionSuccessToastHandler=function addDeleteReportDefinitionSuccessToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.main.successfullyDeletedReportDefinition",{defaultMessage:"Successfully deleted report definition."}),color:"success",iconType:"check",id:"deleteReportDefinitionSuccessToast"};setToasts(toasts.concat(successToast))};var handleDeleteReportDefinitionSuccessToast=function handleDeleteReportDefinitionSuccessToast(){addDeleteReportDefinitionSuccessToastHandler()};var removeToast=function removeToast(removedToast){setToasts(toasts.filter((function(toast){return toast.id!==removedToast.id})))};var pagination={initialPageSize:10,pageSizeOptions:[5,10,20]};(0,_react.useEffect)((function(){props.setBreadcrumbs([{text:_i18n.i18n.translate("opensearch.reports.main.title.reporting",{defaultMessage:"Reporting"}),href:"#"}]);refreshReportsTable();refreshReportsDefinitionsTable();if(window.location.href.includes("create=success")){handleCreateReportDefinitionSuccessToast();setTimeout((function(){refreshReportsTable();refreshReportsDefinitionsTable()}),1e3)}else if(window.location.href.includes("edit=success")){handleEditReportDefinitionSuccessToast();setTimeout((function(){refreshReportsTable();refreshReportsDefinitionsTable()}),1e3)}else if(window.location.href.includes("delete=success")){handleDeleteReportDefinitionSuccessToast();setTimeout((function(){refreshReportsTable();refreshReportsDefinitionsTable()}),1e3)}window.location.href="reports-dashboards#/"}),[]);var refreshReportsTable=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var httpClient;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:httpClient=props.httpClient;_context.next=3;return httpClient.get("../api/reporting/reports").then((function(response){setReportsTableContent((0,_main_utils.addReportsTableContent)(response.data))})).catch((function(error){console.log("error when fetching all reports: ",error);if(error.body.statusCode===403){handleReportsTableErrorToast("permissions")}else{handleReportsTableErrorToast("API")}}));case 3:case"end":return _context.stop()}}}),_callee)})));return function refreshReportsTable(){return _ref.apply(this,arguments)}}();var refreshReportsDefinitionsTable=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(){var httpClient;return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:httpClient=props.httpClient;_context2.next=3;return httpClient.get("../api/reporting/reportDefinitions").then((function(response){setReportDefinitionsTableContent((0,_main_utils.addReportDefinitionsTableContent)(response.data))})).catch((function(error){console.log("error when fetching all report definitions: ",error);if(error.body.statusCode===403){handleReportDefinitionsTableErrorToast("permissions")}else{handleReportDefinitionsTableErrorToast("API")}}));case 3:case"end":return _context2.stop()}}}),_callee2)})));return function refreshReportsDefinitionsTable(){return _ref2.apply(this,arguments)}}();return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceEvenly"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_i18n.i18n.translate("opensearch.reports.main.title.reports",{defaultMessage:"Reports"})," ",_react.default.createElement("p",{style:reportCountStyles}," (",reportsTableContent.length,")")))),_react.default.createElement(_eui.EuiFlexItem,{component:"span",grow:false},_react.default.createElement(_eui.EuiButton,{onClick:refreshReportsTable,iconSide:"left",iconType:"refresh"},_i18n.i18n.translate("opensearch.reports.main.reports.button.refresh",{defaultMessage:"Refresh"})))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_reports_table.ReportsTable,{pagination:pagination,reportsTableItems:reportsTableContent,httpClient:props["httpClient"],handleSuccessToast:handleOnDemandDownloadSuccessToast,handleErrorToast:handleOnDemandDownloadErrorToast,handlePermissionsMissingToast:handlePermissionsMissingDownloadToast})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceEvenly"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_i18n.i18n.translate("opensearch.reports.main.title.reportDefinitions",{defaultMessage:"Report definitions"}),_react.default.createElement("p",{style:reportCountStyles}," ","(",reportDefinitionsTableContent.length,")")))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{onClick:refreshReportsDefinitionsTable,iconSide:"left",iconType:"refresh"},_i18n.i18n.translate("opensearch.reports.main.reportDefinitions.button.refresh",{defaultMessage:"Refresh"}))),_react.default.createElement(_eui.EuiFlexItem,{component:"span",grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:function onClick(){window.location.assign("reports-dashboards#/create")},id:"createReportHomepageButton"},_i18n.i18n.translate("opensearch.reports.main.reportDefinitions.button.create",{defaultMessage:"Create"})))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_report_definitions_table.ReportDefinitions,{pagination:pagination,reportDefinitionsTableContent:reportDefinitionsTableContent})),_react.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:removeToast,toastLifeTimeMs:6e3}))}},746:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportsTable=ReportsTable;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _main_utils=__webpack_require__(190);var _loading_modal=__webpack_require__(614);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var reportStatusOptions=["Created","Error","Pending","Shared","Archived"];var reportTypeOptions=["Schedule","On demand"];var emptyMessageReports=_react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h3",null,_i18n.i18n.translate("opensearch.reports.reportsTable.emptyMessageReports.noReportsToDisplay",{defaultMessage:"No reports to display"})),titleSize:"xs",body:_react.default.createElement("div",null,_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("opensearch.reports.reportsTable.emptyMessageReports.createAReportDefinition",{defaultMessage:"Create a report definition, or share/download a report from a dashboard, saved search or visualization."})),_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("opensearch.reports.reportsTable.emptyMessageReports.toLearnMore",{defaultMessage:"To learn more, see"})," ",_react.default.createElement(_eui.EuiLink,{href:"https://opensearch.org/docs/dashboards/reporting/",target:"_blank"},_i18n.i18n.translate("opensearch.reports.reportsTable.emptyMessageReports.getStarted",{defaultMessage:"Get started with OpenSearch Dashboards reporting"}),_react.default.createElement(_eui.EuiIcon,{type:"popout"}))))});function ReportsTable(props){var pagination=props.pagination,reportsTableItems=props.reportsTableItems,httpClient=props.httpClient,handleSuccessToast=props.handleSuccessToast,handleErrorToast=props.handleErrorToast,handlePermissionsMissingToast=props.handlePermissionsMissingToast;var _useState=(0,_react.useState)("timeCreated"),_useState2=(0,_slicedToArray2.default)(_useState,2),sortField=_useState2[0],setSortField=_useState2[1];var _useState3=(0,_react.useState)("des"),_useState4=(0,_slicedToArray2.default)(_useState3,2),sortDirection=_useState4[0],setSortDirection=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2.default)(_useState5,2),showLoading=_useState6[0],setShowLoading=_useState6[1];var _useState7=(0,_react.useState)(""),_useState8=(0,_slicedToArray2.default)(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var handleLoading=function handleLoading(e){setShowLoading(e)};var onDemandDownload=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(id){return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:handleLoading(true);_context.next=3;return(0,_main_utils.generateReportById)(id,httpClient,handleSuccessToast,handleErrorToast,handlePermissionsMissingToast);case 3:handleLoading(false);case 4:case"end":return _context.stop()}}}),_callee)})));return function onDemandDownload(_x){return _ref.apply(this,arguments)}}();var reportsTableColumns=[{field:"reportName",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsTableColumns.Name",{defaultMessage:"Name"}),render:function render(reportName,item){return _react.default.createElement(_eui.EuiLink,{disabled:item.state==="Pending",onClick:function onClick(){window.location.assign("reports-dashboards#/report_details/".concat(item.id))},id:"reportDetailsLink"},reportName)}},{field:"reportSource",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsTableColumns.Source",{defaultMessage:"Source"}),render:function render(source,item){return item.state==="Pending"?_react.default.createElement(_eui.EuiText,{size:"s"},source):_react.default.createElement(_eui.EuiLink,{href:item.url,target:"_blank"},source)}},{field:"type",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsTableColumns.Type",{defaultMessage:"Type"}),sortable:true,truncateText:false},{field:"timeCreated",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsTableColumns.creationTime",{defaultMessage:"Creation time"}),render:function render(date){var readable=(0,_main_utils.humanReadableDate)(date);return _react.default.createElement(_eui.EuiText,{size:"s"},readable)}},{field:"state",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsTableColumns.State",{defaultMessage:"State"}),sortable:true,truncateText:false},{field:"id",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsTableColumns.Generate",{defaultMessage:"Generate"}),render:function render(id,item){return item.state==="Pending"?_react.default.createElement(_eui.EuiText,{size:"s"},_main_utils.fileFormatsUpper[item.format]," ",_react.default.createElement(_eui.EuiIcon,{type:"importAction"})):_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return onDemandDownload(id)},id:"landingPageOnDemandDownload"},_main_utils.fileFormatsUpper[item.format]," ",_react.default.createElement(_eui.EuiIcon,{type:"importAction"}))}}];var sorting={sort:{field:sortField,direction:sortDirection}};var reportsListSearch={box:{incremental:true},filters:[{type:"field_value_selection",field:"type",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsListSearch.Type",{defaultMessage:"Type"}),multiSelect:"or",options:reportTypeOptions.map((function(type){return{value:type,name:type,view:type}}))},{type:"field_value_selection",field:"state",name:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsListSearch.State",{defaultMessage:"State"}),multiSelect:"or",options:reportStatusOptions.map((function(state){return{value:state,name:state,view:state}}))}]};var displayMessage=reportsTableItems.length===0?emptyMessageReports:_i18n.i18n.translate("opensearch.reports.reportsTable.reportsListSearch.noRreportsMatch",{defaultMessage:"0 reports match the search criteria. Search again"});var showLoadingModal=showLoading?_react.default.createElement(_loading_modal.GenerateReportLoadingModal,{setShowLoading:setShowLoading}):null;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiInMemoryTable,{items:reportsTableItems,itemId:"id",loading:false,message:displayMessage,columns:reportsTableColumns,search:reportsListSearch,pagination:pagination,sorting:sorting,hasActions:true,tableLayout:"auto"}),showLoadingModal)}},747:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.GenerateReportLoadingModal=GenerateReportLoadingModal;var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _eui=__webpack_require__(189);var _i18n=__webpack_require__(40);var _react=_interopRequireWildcard(__webpack_require__(52));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function GenerateReportLoadingModal(props){var setShowLoading=props.setShowLoading;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2.default)(_useState,2),isModalVisible=_useState2[0],setIsModalVisible=_useState2[1];var closeModal=function closeModal(){setIsModalVisible(false);setShowLoading(false)};var showModal=function showModal(){return setIsModalVisible(true)};return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{onClose:closeModal,style:{maxWidth:350,minWidth:300},id:"downloadInProgressLoadingModal"},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement(_eui.EuiText,{textAlign:"right"},_react.default.createElement("h2",null,_i18n.i18n.translate("opensearch.reports.loading.generatingReport",{defaultMessage:"Generating report"}))))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("opensearch.reports.loading.preparingYourFile",{defaultMessage:"Preparing your file for download."})),_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("opensearch.reports.loading.youCanClose",{defaultMessage:"Please keep this dialog open while report is being generated."})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl",style:{minWidth:75,minHeight:75}}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"})))))}},748:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportDefinitions=ReportDefinitions;var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _eui=__webpack_require__(189);var _i18n=__webpack_require__(40);var _main_utils=__webpack_require__(190);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var emptyMessageReportDefinitions=_react.default.createElement(_eui.EuiEmptyPrompt,{title:_react.default.createElement("h3",null,_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.emptyMessageReports.noReportDefinitions",{defaultMessage:"No report definitions to display"})),titleSize:"xs",body:_react.default.createElement("div",null,_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.emptyMessageReports.createANewDefinition",{defaultMessage:"Create a new report definition to get started"})),_react.default.createElement(_eui.EuiText,null,_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.emptyMessageReports.toLearnMore",{defaultMessage:"To learn more, see"})," ",_react.default.createElement(_eui.EuiLink,{href:"https://opensearch.org/docs/dashboards/reporting/",target:"_blank"},_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.emptyMessageReports.getStarted",{defaultMessage:"Get started with OpenSearch Dashboards reporting"}),_react.default.createElement(_eui.EuiIcon,{type:"popout"})))),actions:_react.default.createElement("div",null,_react.default.createElement(_eui.EuiButton,{onClick:function onClick(){window.location.assign("reports-dashboards#/create")}},_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.emptyMessageReports.createReportDefinition",{defaultMessage:"Create report definition"})))});var reportDefinitionsSearch={box:{incremental:true},filters:[]};function ReportDefinitions(props){var pagination=props.pagination,reportDefinitionsTableContent=props.reportDefinitionsTableContent;var _useState=(0,_react.useState)("lastUpdated"),_useState2=(0,_slicedToArray2.default)(_useState,2),sortField=_useState2[0],setSortField=_useState2[1];var _useState3=(0,_react.useState)("des"),_useState4=(0,_slicedToArray2.default)(_useState3,2),sortDirection=_useState4[0],setSortDirection=_useState4[1];var sorting={sort:{field:sortField,direction:sortDirection}};var getDefinitionTableItemId=function getDefinitionTableItemId(name){var index;for(index=0;index<props.reportDefinitionsTableContent.length;++index){if(name===reportDefinitionsTableContent[index].reportName){return reportDefinitionsTableContent[index].id}}};var navigateToDefinitionDetails=function navigateToDefinitionDetails(name){var id=getDefinitionTableItemId(name);window.location.assign("reports-dashboards#/report_definition_details/".concat(id))};var reportDefinitionsColumns=[{field:"reportName",name:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.columns.name",{defaultMessage:"Name"}),render:function render(name){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return navigateToDefinitionDetails(name)},id:"reportDefinitionDetailsLink"},name)}},{field:"source",name:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.columns.source",{defaultMessage:"Source"}),render:function render(value,item){return _react.default.createElement(_eui.EuiLink,{href:item.baseUrl,target:"_blank"},value)}},{field:"type",name:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.columns.type",{defaultMessage:"Type"}),sortable:true,truncateText:false},{field:"details",name:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.columns.scheduleDetails",{defaultMessage:"Schedule details"}),sortable:false,truncateText:true},{field:"lastUpdated",name:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.columns.lastUpdated",{defaultMessage:"Last Updated"}),render:function render(date){var readable=(0,_main_utils.humanReadableDate)(date);return _react.default.createElement(_eui.EuiText,{size:"s"},readable)}},{field:"status",name:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.columns.status",{defaultMessage:"Status"}),sortable:true,truncateText:false}];var displayMessage=reportDefinitionsTableContent.length===0?emptyMessageReportDefinitions:_i18n.i18n.translate("opensearch.reports.reportDefinitionsTable.emptyMessageReports.noDefinitionsFound",{defaultMessage:"0 report definitions match the search criteria. Search again."});return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiInMemoryTable,{items:reportDefinitionsTableContent,itemId:"id",loading:false,message:displayMessage,columns:reportDefinitionsColumns,search:reportDefinitionsSearch,pagination:pagination,sorting:sorting,isSelectable:true,tableLayout:"auto"}))}},749:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceBlockedKeywords=exports.WINDOW=exports.TRIGGER_TYPE=exports.SECURITY_CONSTANTS=exports.SCHEDULE_TYPE=exports.REPORT_TYPE=exports.REPORT_STATE=exports.REPORT_DEFINITION_STATUS=exports.INTERVAL=exports.GLOBAL_BASIC_COUNTER=exports.FORMAT=exports.EXTRA_HEADERS=exports.DELIVERY_TYPE=exports.DELIVERY_CHANNEL=exports.DEFAULT_ROLLING_COUNTER=exports.DEFAULT_MAX_SIZE=exports.DATA_REPORT_CONFIG=exports.CAPACITY=exports.ALLOWED_HOSTS=void 0;var FORMAT;exports.FORMAT=FORMAT;(function(FORMAT){FORMAT["pdf"]="pdf";FORMAT["png"]="png";FORMAT["csv"]="csv"})(FORMAT||(exports.FORMAT=FORMAT={}));var REPORT_STATE;exports.REPORT_STATE=REPORT_STATE;(function(REPORT_STATE){REPORT_STATE["created"]="Created";REPORT_STATE["error"]="Error";REPORT_STATE["pending"]="Pending";REPORT_STATE["shared"]="Shared"})(REPORT_STATE||(exports.REPORT_STATE=REPORT_STATE={}));var REPORT_DEFINITION_STATUS;exports.REPORT_DEFINITION_STATUS=REPORT_DEFINITION_STATUS;(function(REPORT_DEFINITION_STATUS){REPORT_DEFINITION_STATUS["active"]="Active";REPORT_DEFINITION_STATUS["disabled"]="Disabled"})(REPORT_DEFINITION_STATUS||(exports.REPORT_DEFINITION_STATUS=REPORT_DEFINITION_STATUS={}));var DELIVERY_CHANNEL;exports.DELIVERY_CHANNEL=DELIVERY_CHANNEL;(function(DELIVERY_CHANNEL){DELIVERY_CHANNEL["email"]="Email";DELIVERY_CHANNEL["slack"]="Slack";DELIVERY_CHANNEL["chime"]="Chime";DELIVERY_CHANNEL["opensearchDashboards"]="OpenSearch Dashboards user"})(DELIVERY_CHANNEL||(exports.DELIVERY_CHANNEL=DELIVERY_CHANNEL={}));var SCHEDULE_TYPE;exports.SCHEDULE_TYPE=SCHEDULE_TYPE;(function(SCHEDULE_TYPE){SCHEDULE_TYPE["recurring"]="Recurring";SCHEDULE_TYPE["cron"]="Cron based"})(SCHEDULE_TYPE||(exports.SCHEDULE_TYPE=SCHEDULE_TYPE={}));var REPORT_TYPE;exports.REPORT_TYPE=REPORT_TYPE;(function(REPORT_TYPE){REPORT_TYPE["savedSearch"]="Saved search";REPORT_TYPE["dashboard"]="Dashboard";REPORT_TYPE["visualization"]="Visualization";REPORT_TYPE["notebook"]="Notebook"})(REPORT_TYPE||(exports.REPORT_TYPE=REPORT_TYPE={}));var DATA_REPORT_CONFIG;exports.DATA_REPORT_CONFIG=DATA_REPORT_CONFIG;(function(DATA_REPORT_CONFIG){DATA_REPORT_CONFIG["excelDateFormat"]="MM/DD/YYYY h:mm:ss.SSS a"})(DATA_REPORT_CONFIG||(exports.DATA_REPORT_CONFIG=DATA_REPORT_CONFIG={}));var TRIGGER_TYPE;exports.TRIGGER_TYPE=TRIGGER_TYPE;(function(TRIGGER_TYPE){TRIGGER_TYPE["schedule"]="Schedule";TRIGGER_TYPE["onDemand"]="On demand"})(TRIGGER_TYPE||(exports.TRIGGER_TYPE=TRIGGER_TYPE={}));var DELIVERY_TYPE;exports.DELIVERY_TYPE=DELIVERY_TYPE;(function(DELIVERY_TYPE){DELIVERY_TYPE["opensearchDashboardsUser"]="OpenSearch Dashboards user";DELIVERY_TYPE["channel"]="Channel"})(DELIVERY_TYPE||(exports.DELIVERY_TYPE=DELIVERY_TYPE={}));var DEFAULT_MAX_SIZE=1e4;exports.DEFAULT_MAX_SIZE=DEFAULT_MAX_SIZE;var SECURITY_CONSTANTS={TENANT_LOCAL_STORAGE_KEY:"opendistro::security::tenant::show_popup"};exports.SECURITY_CONSTANTS=SECURITY_CONSTANTS;var EXTRA_HEADERS=["cookie","x-proxy-user","x-proxy-roles","x-forwarded-for"];exports.EXTRA_HEADERS=EXTRA_HEADERS;var BLOCKED_KEYWORD="BLOCKED_KEYWORD";var ipv4Regex=/(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?):([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])/g;var ipv6Regex=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/g;var localhostRegex=/localhost:([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])/g;var iframeRegex=/iframe/g;var ALLOWED_HOSTS=/^(0|0.0.0.0|127.0.0.1|localhost|(.*\.)?(opensearch.org|aws.a2z.com))$/;exports.ALLOWED_HOSTS=ALLOWED_HOSTS;var replaceBlockedKeywords=function replaceBlockedKeywords(htmlString){htmlString=htmlString.replace(ipv4Regex,BLOCKED_KEYWORD);htmlString=htmlString.replace(ipv6Regex,BLOCKED_KEYWORD);htmlString=htmlString.replace(iframeRegex,BLOCKED_KEYWORD);htmlString=htmlString.replace(localhostRegex,BLOCKED_KEYWORD);return htmlString};exports.replaceBlockedKeywords=replaceBlockedKeywords;var WINDOW=3600;exports.WINDOW=WINDOW;var INTERVAL=60;exports.INTERVAL=INTERVAL;var CAPACITY=WINDOW/INTERVAL*2;exports.CAPACITY=CAPACITY;var GLOBAL_BASIC_COUNTER={report:{create:{total:0},create_from_definition:{total:0},download:{total:0},list:{total:0},info:{total:0}},report_definition:{create:{total:0},list:{total:0},info:{total:0},update:{total:0},delete:{total:0}},report_source:{list:{total:0}},dashboard:{pdf:{download:{total:0}},png:{download:{total:0}}},visualization:{pdf:{download:{total:0}},png:{download:{total:0}}},notebook:{pdf:{download:{count:0}},png:{download:{count:0}}},saved_search:{csv:{download:{total:0}}}};exports.GLOBAL_BASIC_COUNTER=GLOBAL_BASIC_COUNTER;var DEFAULT_ROLLING_COUNTER={report:{create:{count:0,system_error:0,user_error:0},create_from_definition:{count:0,system_error:0,user_error:0},download:{count:0,system_error:0,user_error:0},list:{count:0,system_error:0,user_error:0},info:{count:0,system_error:0,user_error:0}},report_definition:{create:{count:0,system_error:0,user_error:0},list:{count:0,system_error:0,user_error:0},info:{count:0,system_error:0,user_error:0},update:{count:0,system_error:0,user_error:0},delete:{count:0,system_error:0,user_error:0}},report_source:{list:{count:0,system_error:0,user_error:0}},dashboard:{pdf:{download:{count:0}},png:{download:{count:0}}},visualization:{pdf:{download:{count:0}},png:{download:{count:0}}},notebook:{pdf:{download:{count:0}},png:{download:{count:0}}},saved_search:{csv:{download:{count:0}}}};exports.DEFAULT_ROLLING_COUNTER=DEFAULT_ROLLING_COUNTER},750:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.ReportDefinitionDetails=ReportDefinitionDetails;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _report_details=__webpack_require__(666);var _main_utils=__webpack_require__(190);var _moment=_interopRequireDefault(__webpack_require__(127));var _utils=__webpack_require__(191);var _loading_modal=__webpack_require__(614);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var ON_DEMAND="On demand";function ReportDefinitionDetails(props){var _useState=(0,_react.useState)({name:"",description:"",created:"",lastUpdated:"",source:"",timePeriod:"",fileFormat:"",status:"",reportHeader:"",reportFooter:"",triggerType:"",scheduleDetails:"",baseUrl:""}),_useState2=(0,_slicedToArray2.default)(_useState,2),reportDefinitionDetails=_useState2[0],setReportDefinitionDetails=_useState2[1];var _useState3=(0,_react.useState)({}),_useState4=(0,_slicedToArray2.default)(_useState3,2),reportDefinitionRawResponse=_useState4[0],setReportDefinitionRawResponse=_useState4[1];var _useState5=(0,_react.useState)([]),_useState6=(0,_slicedToArray2.default)(_useState5,2),toasts=_useState6[0],setToasts=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2.default)(_useState7,2),showDeleteModal=_useState8[0],setShowDeleteModal=_useState8[1];var _useState9=(0,_react.useState)(false),_useState10=(0,_slicedToArray2.default)(_useState9,2),showLoading=_useState10[0],setShowLoading=_useState10[1];var reportDefinitionId=props.match["params"]["reportDefinitionId"];var handleLoading=function handleLoading(e){setShowLoading(e)};var handleShowDeleteModal=function handleShowDeleteModal(e){setShowDeleteModal(e)};var addPermissionsMissingStatusChangeToastHandler=function addPermissionsMissingStatusChangeToastHandler(){var toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.CHANGE_SCHEDULE_STATUS);setToasts(toasts.concat(toast))};var addPermissionsMissingDeleteToastHandler=function addPermissionsMissingDeleteToastHandler(){var toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.DELETE_REPORT_DEFINITION);setToasts(toasts.concat(toast))};var handlePermissionsMissingDeleteToast=function handlePermissionsMissingDeleteToast(){addPermissionsMissingDeleteToastHandler()};var addPermissionsMissingGenerateReportToastHandler=function addPermissionsMissingGenerateReportToastHandler(){var toast=(0,_utils.permissionsMissingToast)(_utils.permissionsMissingActions.GENERATING_REPORT);setToasts(toasts.concat(toast))};var addErrorLoadingDetailsToastHandler=function addErrorLoadingDetailsToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.errorLoadingReportDefinitionDetails. ",{defaultMessage:"Error loading report definition details."}),color:"danger",iconType:"alert",id:"reportDefinitionDetailsErrorToast"};setToasts(toasts.concat(errorToast))};var handleDetailsErrorToast=function handleDetailsErrorToast(){addErrorLoadingDetailsToastHandler()};var addSuccessGeneratingReportToastHandler=function addSuccessGeneratingReportToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.successfullyGeneratedReport. ",{defaultMessage:"Successfully generated report."}),color:"success",iconType:"check",id:"generateReportSuccessToast"};setToasts(toasts.concat(successToast))};var handleSuccessGeneratingReportToast=function handleSuccessGeneratingReportToast(){addSuccessGeneratingReportToastHandler()};var addErrorGeneratingReportToastHandler=function addErrorGeneratingReportToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.errorGeneratingReport. ",{defaultMessage:"Error generating report."}),color:"danger",iconType:"alert",id:"generateReportErrorToast"};setToasts(toasts.concat(errorToast))};var handleErrorGeneratingReportToast=function handleErrorGeneratingReportToast(errorType){if(errorType==="permissions"){addPermissionsMissingGenerateReportToastHandler()}else if(errorType==="API"){addErrorGeneratingReportToastHandler()}};var addSuccessEnablingScheduleToastHandler=function addSuccessEnablingScheduleToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.successfullyEnabledSchedule. ",{defaultMessage:"Successfully enabled schedule."}),color:"success",iconType:"check",id:"successEnableToast"};setToasts(toasts.concat(successToast))};var addErrorEnablingScheduleToastHandler=function addErrorEnablingScheduleToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.errorEnablingSchedule. ",{defaultMessage:"Error enabling schedule."}),color:"danger",iconType:"alert",id:"errorToast"};setToasts(toasts.concat(errorToast))};var addSuccessDisablingScheduleToastHandler=function addSuccessDisablingScheduleToastHandler(){var successToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.successfullyDisabledSchedule.  ",{defaultMessage:"Successfully disabled schedule."}),color:"success",iconType:"check",id:"successDisableToast"};setToasts(toasts.concat(successToast))};var handleSuccessChangingScheduleStatusToast=function handleSuccessChangingScheduleStatusToast(statusChange){if(statusChange==="enable"){addSuccessEnablingScheduleToastHandler()}else if(statusChange==="disable"){addSuccessDisablingScheduleToastHandler()}};var addErrorDisablingScheduleToastHandler=function addErrorDisablingScheduleToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.errorDisablingSchedule.  ",{defaultMessage:"Error disabling schedule."}),color:"danger",iconType:"alert",id:"errorDisableToast"};setToasts(toasts.concat(errorToast))};var handleErrorChangingScheduleStatusToast=function handleErrorChangingScheduleStatusToast(statusChange){if(statusChange==="enable"){addErrorEnablingScheduleToastHandler()}else if(statusChange==="disable"){addErrorDisablingScheduleToastHandler()}else if(statusChange==="permissions"){addPermissionsMissingStatusChangeToastHandler()}};var addErrorDeletingReportDefinitionToastHandler=function addErrorDeletingReportDefinitionToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.toast.errorDeletingReport definition.  ",{defaultMessage:"Error deleting report definition."}),color:"danger",iconType:"alert",id:"errorDeleteToast"};setToasts(toasts.concat(errorToast))};var handleErrorDeletingReportDefinitionToast=function handleErrorDeletingReportDefinitionToast(){addErrorDeletingReportDefinitionToastHandler()};var removeToast=function removeToast(removedToast){setToasts(toasts.filter((function(toast){return toast.id!==removedToast.id})))};var handleReportDefinitionDetails=function handleReportDefinitionDetails(e){setReportDefinitionDetails(e)};var handleReportDefinitionRawResponse=function handleReportDefinitionRawResponse(e){setReportDefinitionRawResponse(e)};var DeleteConfirmationModal=function DeleteConfirmationModal(){var closeModal=function closeModal(){setShowDeleteModal(false)};return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.button.delete.title",{defaultMessage:"Delete report definition"}),onCancel:closeModal,onConfirm:deleteReportDefinition,cancelButtonText:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.button.delete.cancel",{defaultMessage:"Cancel"}),confirmButtonText:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.button.delete.confirm",{defaultMessage:"Delete"}),buttonColor:"danger",defaultFocusedButton:"confirm"},_react.default.createElement("p",null,_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.button.delete.query",{defaultMessage:'Are you sure you want to delete "{name}"?',values:{name:reportDefinitionDetails.name}})))))};var humanReadableScheduleDetails=function humanReadableScheduleDetails(trigger){var scheduleDetails="";if(trigger.trigger_type==="Schedule"){if(trigger.trigger_params.schedule_type==="Recurring"){if(trigger.trigger_params.schedule.interval.unit==="DAYS"&&trigger.trigger_params.schedule.interval.period===1){var date=new Date(trigger.trigger_params.schedule.interval.start_time);scheduleDetails=_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.dailyAt",{defaultMessage:"Daily @ {time}",values:{time:date.toTimeString()}})}else{var _date=new Date(trigger.trigger_params.schedule.interval.start_time);scheduleDetails=_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.byInterval",{defaultMessage:"By interval, every  {period} {unit}, starting @ {time}",values:{period:trigger.trigger_params.schedule.interval.period,unit:trigger.trigger_params.schedule.interval.unit.toLowerCase(),time:_date.toTimeString()}})}}else if(trigger.trigger_params.schedule_type==="Cron based"){scheduleDetails=_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.cronBased",{defaultMessage:"Cron based: {expression} ({timezone})",values:{expression:trigger.trigger_params.schedule.cron.expression,timezone:trigger.trigger_params.schedule.cron.timezone}})}}return scheduleDetails};var getReportDefinitionDetailsMetadata=function getReportDefinitionDetailsMetadata(data){var reportDefinition=data;var reportParams=reportDefinition.report_params,trigger=reportDefinition.trigger,delivery=reportDefinition.delivery,timeCreated=reportDefinition.time_created,lastUpdated=reportDefinition.last_updated;var triggerType=trigger.trigger_type,triggerParams=trigger.trigger_params;var _reportParams$core_pa=reportParams.core_params,baseUrl=_reportParams$core_pa.base_url,reportFormat=_reportParams$core_pa.report_format,timeDuration=_reportParams$core_pa.time_duration;var readableDate=new Date(timeCreated);var displayCreatedDate=readableDate.toDateString()+" "+readableDate.toLocaleTimeString();var readableUpdatedDate=new Date(lastUpdated);var displayUpdatedDate=readableUpdatedDate.toDateString()+" "+readableUpdatedDate.toLocaleTimeString();var reportDefinitionDetails={name:reportParams.report_name,description:reportParams.description===""?"—":reportParams.description,created:displayCreatedDate,lastUpdated:displayUpdatedDate,source:reportParams.report_source,baseUrl:baseUrl,timePeriod:_moment.default.duration(timeDuration).humanize(),fileFormat:reportFormat,reportHeader:reportParams.core_params.hasOwnProperty("header")&&reportParams.core_params.header!=""?reportParams.core_params.header:"—",reportFooter:reportParams.core_params.hasOwnProperty("footer")&&reportParams.core_params.footer!=""?reportParams.core_params.footer:"—",triggerType:triggerType,scheduleDetails:triggerParams?humanReadableScheduleDetails(data.trigger):"—",status:reportDefinition.status};return reportDefinitionDetails};(0,_react.useEffect)((function(){var httpClient=props.httpClient;httpClient.get("../api/reporting/reportDefinitions/".concat(reportDefinitionId)).then((function(response){handleReportDefinitionRawResponse(response);handleReportDefinitionDetails(getReportDefinitionDetailsMetadata(response.report_definition));props.setBreadcrumbs([{text:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.breadcrumb.reporting",{defaultMessage:"Reporting"}),href:"#"},{text:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.breadcrumb.reportDefinitionDetails",{defaultMessage:"Report definition details: {name}",values:{name:response.report_definition.report_params.report_name}})}])})).catch((function(error){console.error(_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.breadcrumb.error",{defaultMessage:"error when getting report definition details: {error}",values:{error:error}}));handleDetailsErrorToast()}))}),[]);var downloadIconDownload=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:handleLoading(true);_context.next=3;return generateReportFromDetails();case 3:handleLoading(false);case 4:case"end":return _context.stop()}}}),_callee)})));return function downloadIconDownload(){return _ref.apply(this,arguments)}}();var fileFormatDownload=function fileFormatDownload(data){var formatUpper=data["fileFormat"];formatUpper=_main_utils.fileFormatsUpper[formatUpper];return _react.default.createElement(_eui.EuiLink,{onClick:downloadIconDownload,id:"generateReportFromDetailsFileFormat"},formatUpper+" ",_react.default.createElement(_eui.EuiIcon,{type:"importAction"}))};var sourceURL=function sourceURL(data){return _react.default.createElement(_eui.EuiLink,{id:"reportDefinitionSourceURL",href:"".concat(data.baseUrl),target:"_blank"},data["source"])};var changeScheduledReportDefinitionStatus=function changeScheduledReportDefinitionStatus(statusChange){var updatedReportDefinition=reportDefinitionRawResponse.report_definition;if(statusChange==="Disable"){updatedReportDefinition.trigger.trigger_params.enabled=false;updatedReportDefinition.status="Disabled"}else if(statusChange==="Enable"){updatedReportDefinition.trigger.trigger_params.enabled=true;updatedReportDefinition.status="Active"}var httpClient=props.httpClient;httpClient.put("../api/reporting/reportDefinitions/".concat(reportDefinitionId),{body:JSON.stringify(updatedReportDefinition),params:reportDefinitionId.toString()}).then((function(){var updatedRawResponse={report_definition:{}};updatedRawResponse.report_definition=updatedReportDefinition;handleReportDefinitionRawResponse(updatedRawResponse);setReportDefinitionDetails(getReportDefinitionDetailsMetadata(updatedReportDefinition));if(statusChange==="Enable"){handleSuccessChangingScheduleStatusToast("enable")}else if(statusChange==="Disable"){handleSuccessChangingScheduleStatusToast("disable")}})).catch((function(error){console.error("error in updating report definition status:",error);if(error.body.statusCode===403){handleErrorChangingScheduleStatusToast("permissions")}else{if(statusChange==="Enable"){handleErrorChangingScheduleStatusToast("enable")}else if(statusChange==="Disable"){handleErrorChangingScheduleStatusToast("disable")}}}))};var ScheduledDefinitionStatus=function ScheduledDefinitionStatus(){var status=reportDefinitionDetails.status==="Active"?"Disable":"Enable";return _react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return changeScheduledReportDefinitionStatus(status)},id:"changeStatusFromDetailsButton"},status)};var generateReportFromDetails=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(){var httpClient,generateReportSuccess;return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:httpClient=props.httpClient;handleLoading(true);_context2.next=4;return(0,_main_utils.generateReportFromDefinitionId)(reportDefinitionId,httpClient);case 4:generateReportSuccess=_context2.sent;handleLoading(false);if(generateReportSuccess.status){handleSuccessGeneratingReportToast()}else{if(generateReportSuccess.permissionsError){handleErrorGeneratingReportToast("permissions")}else{handleErrorGeneratingReportToast("API")}}case 7:case"end":return _context2.stop()}}}),_callee2)})));return function generateReportFromDetails(){return _ref2.apply(this,arguments)}}();var deleteReportDefinition=function deleteReportDefinition(){var httpClient=props.httpClient;httpClient.delete("../api/reporting/reportDefinitions/".concat(reportDefinitionId)).then((function(){window.location.assign("reports-dashboards#/delete=success")})).catch((function(error){console.log("error when deleting report definition:",error);if(error.body.statusCode===403){handlePermissionsMissingDeleteToast()}else{handleErrorDeletingReportDefinitionToast()}}))};var showActionButton=reportDefinitionDetails.triggerType===ON_DEMAND?_react.default.createElement(_eui.EuiButton,{onClick:function onClick(){return generateReportFromDetails()},id:"generateReportFromDetailsButton"},"Generate report"):_react.default.createElement(ScheduledDefinitionStatus,null);var triggerSection=reportDefinitionDetails.triggerType===ON_DEMAND?_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.triggerSection.triggerType",{defaultMessage:"Report trigger"}),reportDetailsComponentContent:reportDefinitionDetails.triggerType}):_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.triggerSection.triggerType",{defaultMessage:"Report trigger"}),reportDetailsComponentContent:reportDefinitionDetails.triggerType}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.triggerSection.scheduleDetails",{defaultMessage:"Schedule details"}),reportDetailsComponentContent:reportDefinitionDetails.scheduleDetails}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.schedule.triggerSection.status",{defaultMessage:"Status"}),reportDetailsComponentContent:reportDefinitionDetails.status}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:"",reportDetailsComponentContent:""}));var showDeleteConfirmationModal=showDeleteModal?_react.default.createElement(DeleteConfirmationModal,null):null;var showLoadingModal=showLoading?_react.default.createElement(_loading_modal.GenerateReportLoadingModal,{setShowLoading:setShowLoading}):null;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.title",{defaultMessage:"Report definition details"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,{panelPaddingSize:"l"},_react.default.createElement(_eui.EuiPageHeader,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPageHeaderSection,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,reportDefinitionDetails.name))))),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"flexEnd",gutterSize:"l"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{color:"danger",onClick:function onClick(show){return handleShowDeleteModal(show)},id:"deleteReportDefinitionButton"},_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.deleteReportDefinitionButton",{defaultMessage:"Delete"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},showActionButton),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:function onClick(){window.location.assign("reports-dashboards#/edit/".concat(reportDefinitionId))},id:"editReportDefinitionButton"},_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.editReportDefinitionButton",{defaultMessage:"Edit"}))))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h3",null,_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.reportSettings",{defaultMessage:"Report settings"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.name",{defaultMessage:"Name"}),reportDetailsComponentContent:reportDefinitionDetails.name}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.description",{defaultMessage:"Description"}),reportDetailsComponentContent:reportDefinitionDetails.description}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.created",{defaultMessage:"Created"}),reportDetailsComponentContent:reportDefinitionDetails.created}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.lastUpdated",{defaultMessage:"Last updated"}),reportDetailsComponentContent:reportDefinitionDetails.lastUpdated})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.source",{defaultMessage:"Source"}),reportDetailsComponentContent:sourceURL(reportDefinitionDetails)}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.timePeriod",{defaultMessage:"Time period"}),reportDetailsComponentContent:"Last ".concat(reportDefinitionDetails.timePeriod)}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.fileFormat",{defaultMessage:"File format"}),reportDetailsComponentContent:fileFormatDownload(reportDefinitionDetails)}),_react.default.createElement(_eui.EuiFlexItem,null)),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.reportHeader",{defaultMessage:"Report header"}),reportDetailsComponentContent:(0,_report_details.trimAndRenderAsText)(reportDefinitionDetails.reportHeader)}),_react.default.createElement(_report_details.ReportDetailsComponent,{reportDetailsComponentTitle:_i18n.i18n.translate("opensearch.reports.reportDefinitionsDetails.fields.reportFooter",{defaultMessage:"Report footer"}),reportDetailsComponentContent:(0,_report_details.trimAndRenderAsText)(reportDefinitionDetails.reportFooter)}),_react.default.createElement(_eui.EuiFlexItem,null),_react.default.createElement(_eui.EuiFlexItem,null)),_react.default.createElement(_eui.EuiSpacer,null),triggerSection),_react.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:removeToast,toastLifeTimeMs:6e3}),showDeleteConfirmationModal,showLoadingModal))}},751:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(39);var _typeof=__webpack_require__(561);Object.defineProperty(exports,"__esModule",{value:true});exports.EditReportDefinition=EditReportDefinition;var _regenerator=_interopRequireDefault(__webpack_require__(68));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(69));var _slicedToArray2=_interopRequireDefault(__webpack_require__(88));var _react=_interopRequireWildcard(__webpack_require__(52));var _i18n=__webpack_require__(40);var _eui=__webpack_require__(189);var _report_settings=__webpack_require__(652);var _utils=__webpack_require__(663);var _utils2=__webpack_require__(191);var _utils3=__webpack_require__(665);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function EditReportDefinition(props){var _useState=(0,_react.useState)([]),_useState2=(0,_slicedToArray2.default)(_useState,2),toasts=_useState2[0],setToasts=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),comingFromError=_useState4[0],setComingFromError=_useState4[1];var _useState5=(0,_react.useState)({}),_useState6=(0,_slicedToArray2.default)(_useState5,2),preErrorData=_useState6[0],setPreErrorData=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2.default)(_useState7,2),showSettingsReportNameError=_useState8[0],setShowSettingsReportNameError=_useState8[1];var _useState9=(0,_react.useState)(""),_useState10=(0,_slicedToArray2.default)(_useState9,2),settingsReportNameErrorMessage=_useState10[0],setSettingsReportNameErrorMessage=_useState10[1];var _useState11=(0,_react.useState)(false),_useState12=(0,_slicedToArray2.default)(_useState11,2),showSettingsReportSourceError=_useState12[0],setShowSettingsReportSourceError=_useState12[1];var _useState13=(0,_react.useState)(""),_useState14=(0,_slicedToArray2.default)(_useState13,2),settingsReportSourceErrorMessage=_useState14[0],setSettingsReportSourceErrorMessage=_useState14[1];var _useState15=(0,_react.useState)(false),_useState16=(0,_slicedToArray2.default)(_useState15,2),showTriggerIntervalNaNError=_useState16[0],setShowTriggerIntervalNaNError=_useState16[1];var _useState17=(0,_react.useState)(false),_useState18=(0,_slicedToArray2.default)(_useState17,2),showCronError=_useState18[0],setShowCronError=_useState18[1];var _useState19=(0,_react.useState)(false),_useState20=(0,_slicedToArray2.default)(_useState19,2),showTimeRangeError=_useState20[0],setShowTimeRangeError=_useState20[1];var addPermissionsMissingViewEditPageToastHandler=function addPermissionsMissingViewEditPageToastHandler(errorType){var toast={};if(errorType==="permissions"){toast=(0,_utils2.permissionsMissingToast)(_utils2.permissionsMissingActions.VIEWING_EDIT_PAGE)}else if(errorType==="API"){toast={title:_i18n.i18n.translate("opensearch.reports.editReportDefinition.errorLoading",{defaultMessage:"Error loading report definition values."}),color:"danger",iconType:"alert",id:"errorToast"}}setToasts(toasts.concat(toast))};var handleViewEditPageErrorToast=function handleViewEditPageErrorToast(errorType){addPermissionsMissingViewEditPageToastHandler(errorType)};var addInputValidationErrorToastHandler=function addInputValidationErrorToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.editReportDefinition.fieldsHaveAnError",{defaultMessage:"One or more fields have an error. Please check and try again."}),color:"danger",iconType:"alert",id:"errorToast"};setToasts(toasts.concat(errorToast))};var handleInputValidationErrorToast=function handleInputValidationErrorToast(){addInputValidationErrorToastHandler()};var addErrorUpdatingReportDefinitionToastHandler=function addErrorUpdatingReportDefinitionToastHandler(errorType){var toast={};if(errorType==="permissions"){toast=(0,_utils2.permissionsMissingToast)(_utils2.permissionsMissingActions.UPDATING_DEFINITION)}else if(errorType==="API"){toast={title:_i18n.i18n.translate("opensearch.reports.editReportDefinition.errorUpdating",{defaultMessage:"Error updating report definition."}),color:"danger",iconType:"alert",id:"errorToast"}}setToasts(toasts.concat(toast))};var handleErrorUpdatingReportDefinitionToast=function handleErrorUpdatingReportDefinitionToast(errorType){addErrorUpdatingReportDefinitionToastHandler(errorType)};var addErrorDeletingReportDefinitionToastHandler=function addErrorDeletingReportDefinitionToastHandler(){var errorToast={title:_i18n.i18n.translate("opensearch.reports.editReportDefinition.errorDeleting",{defaultMessage:"Error deleting old scheduled report definition."}),color:"danger",iconType:"alert",id:"errorDeleteToast"};setToasts(toasts.concat(errorToast))};var handleErrorDeletingReportDefinitionToast=function handleErrorDeletingReportDefinitionToast(){addErrorDeletingReportDefinitionToastHandler()};var removeToast=function removeToast(removedToast){setToasts(toasts.filter((function(toast){return toast.id!==removedToast.id})))};var reportDefinitionId=props["match"]["params"]["reportDefinitionId"];var reportDefinition;var editReportDefinitionRequest={report_params:{report_name:"",report_source:"",description:"",core_params:{base_url:"",report_format:"",time_duration:""}},delivery:{configIds:[],title:"",textDescription:"",htmlDescription:""},trigger:{trigger_type:""},time_created:0,last_updated:0,status:""};reportDefinition=editReportDefinitionRequest;var timeRange={timeFrom:new Date,timeTo:new Date};if(comingFromError){editReportDefinitionRequest=preErrorData}var callUpdateAPI=function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(metadata){var httpClient;return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:httpClient=props.httpClient;httpClient.put("../api/reporting/reportDefinitions/".concat(reportDefinitionId),{body:JSON.stringify(metadata),params:reportDefinitionId.toString()}).then((0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.location.assign("reports-dashboards#/edit=success");case 1:case"end":return _context.stop()}}}),_callee)})))).catch((function(error){console.log("error in updating report definition:",error);if(error.body.statusCode===400){handleInputValidationErrorToast()}else if(error.body.statusCode===403){handleErrorUpdatingReportDefinitionToast("permissions")}else{handleErrorUpdatingReportDefinitionToast("API")}setPreErrorData(metadata);setComingFromError(true)}));case 2:case"end":return _context2.stop()}}}),_callee2)})));return function callUpdateAPI(_x){return _ref.apply(this,arguments)}}();var editReportDefinition=function(){var _ref3=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee3(metadata){var error;return _regenerator.default.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if("header"in metadata.report_params.core_params){metadata.report_params.core_params.header=_utils.converter.makeHtml(metadata.report_params.core_params.header)}if("footer"in metadata.report_params.core_params){metadata.report_params.core_params.footer=_utils.converter.makeHtml(metadata.report_params.core_params.footer)}error=false;_context3.next=5;return(0,_utils3.definitionInputValidation)(metadata,error,setShowSettingsReportNameError,setSettingsReportNameErrorMessage,setShowSettingsReportSourceError,setSettingsReportSourceErrorMessage,setShowTriggerIntervalNaNError,timeRange,setShowTimeRangeError,setShowCronError).then((function(response){error=response}));case 5:if(!error){_context3.next=11;break}handleInputValidationErrorToast();setPreErrorData(metadata);setComingFromError(true);_context3.next=13;break;case 11:_context3.next=13;return callUpdateAPI(metadata);case 13:case"end":return _context3.stop()}}}),_callee3)})));return function editReportDefinition(_x2){return _ref3.apply(this,arguments)}}();(0,_react.useEffect)((function(){window.scrollTo(0,0);var httpClient=props.httpClient;httpClient.get("../api/reporting/reportDefinitions/".concat(reportDefinitionId)).then((function(response){reportDefinition=response.report_definition;var _reportDefinition=reportDefinition,timeCreated=_reportDefinition.time_created,status=_reportDefinition.status,lastUpdated=_reportDefinition.last_updated,reportName=_reportDefinition.report_params.report_name;editReportDefinitionRequest.time_created=timeCreated;editReportDefinitionRequest.last_updated=lastUpdated;editReportDefinitionRequest.status=status;props.setBreadcrumbs([{text:"Reporting",href:"#"},{text:"Report definition details: ".concat(reportName),href:"#/report_definition_details/".concat(reportDefinitionId)},{text:"Edit report definition: ".concat(reportName)}])})).catch((function(error){console.error("error when loading edit report definition page: ",error);if(error.body.statusCode===403){handleViewEditPageErrorToast("permissions")}else{handleViewEditPageErrorToast("API")}}))}),[]);return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_i18n.i18n.translate("opensearch.reports.editReportDefinition.title",{defaultMessage:"Edit report definition"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_report_settings.ReportSettings,{edit:true,editDefinitionId:reportDefinitionId,reportDefinitionRequest:editReportDefinitionRequest,httpClientProps:props["httpClient"],timeRange:timeRange,showSettingsReportNameError:showSettingsReportNameError,settingsReportNameErrorMessage:settingsReportNameErrorMessage,showSettingsReportSourceError:showSettingsReportSourceError,settingsReportSourceErrorMessage:settingsReportSourceErrorMessage,showTimeRangeError:showTimeRangeError,showTriggerIntervalNaNError:showTriggerIntervalNaNError,showCronError:showCronError}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){window.location.assign("reports-dashboards#/")}},_i18n.i18n.translate("opensearch.reports.editReportDefinition.cancel",{defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:function onClick(){return editReportDefinition(editReportDefinitionRequest)},id:"editReportDefinitionButton"},_i18n.i18n.translate("opensearch.reports.editReportDefinition.save",{defaultMessage:"Save Changes"})))),_react.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:removeToast,toastLifeTimeMs:6e3})))}}}]);
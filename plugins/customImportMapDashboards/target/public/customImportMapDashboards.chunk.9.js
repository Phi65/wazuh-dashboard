(window["customImportMapDashboards_bundle_jsonpfunction"]=window["customImportMapDashboards_bundle_jsonpfunction"]||[]).push([[9],{1065:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.renderApp=void 0;var _react=_interopRequireDefault(__webpack_require__(5));var _reactDom=_interopRequireDefault(__webpack_require__(40));var _app=__webpack_require__(1123);var _public=__webpack_require__(24);var renderApp=function renderApp(_ref,services,mapConfig){var element=_ref.element;_reactDom.default.render(_react.default.createElement(_public.OpenSearchDashboardsContextProvider,{services:services},_react.default.createElement(_app.MapsDashboardsApp,{mapConfig:mapConfig})),element);return function(){return _reactDom.default.unmountComponentAtNode(element)}};exports.renderApp=renderApp},1123:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.MapsDashboardsApp=void 0;var _react=_interopRequireDefault(__webpack_require__(5));var _reactRouterDom=__webpack_require__(331);var _react2=__webpack_require__(27);var _maps_list=__webpack_require__(1124);var _map_page=__webpack_require__(330);var _common=__webpack_require__(23);var _public=__webpack_require__(24);var MapsDashboardsApp=function MapsDashboardsApp(_ref){var mapConfig=_ref.mapConfig;var _useOpenSearchDashboa=(0,_public.useOpenSearchDashboards)(),appBasePath=_useOpenSearchDashboa.services.appBasePath;return _react.default.createElement(_reactRouterDom.Router,{history:appBasePath},_react.default.createElement(_react2.I18nProvider,null,_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:[_common.APP_PATH.CREATE_MAP,_common.APP_PATH.EDIT_MAP],render:function render(){return _react.default.createElement(_map_page.MapPage,{mapConfig:mapConfig})}}),_react.default.createElement(_reactRouterDom.Route,{exact:true,path:_common.APP_PATH.LANDING_PAGE_PATH,render:function render(){return _react.default.createElement(_maps_list.MapsList,null)}}))))};exports.MapsDashboardsApp=MapsDashboardsApp},1124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MapsList",{enumerable:true,get:function get(){return _maps_list.MapsList}});var _maps_list=__webpack_require__(1125)},1125:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(0);var _typeof=__webpack_require__(8);Object.defineProperty(exports,"__esModule",{value:true});exports.MapsList=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(14));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(15));var _i18n=__webpack_require__(2);var _react=_interopRequireWildcard(__webpack_require__(5));var _react2=__webpack_require__(27);var _eui=__webpack_require__(13);var _public=__webpack_require__(24);var _breadcrumbs=__webpack_require__(332);var _common=__webpack_require__(23);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}var MapsList=function MapsList(){var _useOpenSearchDashboa=(0,_public.useOpenSearchDashboards)(),_useOpenSearchDashboa2=_useOpenSearchDashboa.services,toasts=_useOpenSearchDashboa2.notifications.toasts,savedObjectsClient=_useOpenSearchDashboa2.savedObjects.client,navigateToApp=_useOpenSearchDashboa2.application.navigateToApp,_useOpenSearchDashboa3=_useOpenSearchDashboa2.chrome,docTitle=_useOpenSearchDashboa3.docTitle,setBreadcrumbs=_useOpenSearchDashboa3.setBreadcrumbs;(0,_react.useEffect)((function(){setBreadcrumbs((0,_breadcrumbs.getMapsLandingBreadcrumbs)(navigateToApp));docTitle.change(_i18n.i18n.translate("maps.listing.pageTitle",{defaultMessage:"Maps"}))}),[docTitle,navigateToApp,setBreadcrumbs]);var navigateToSavedMapPage=function navigateToSavedMapPage(id){navigateToApp(_common.MAPS_APP_ID,{path:"/".concat(id)})};var tableColumns=[{field:"attributes.title",name:_i18n.i18n.translate("maps.listing.table.titleColumnName",{defaultMessage:"Title"}),sortable:true,render:function render(title,record){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return navigateToSavedMapPage(record.id)}},title)}},{field:"attributes.description",name:_i18n.i18n.translate("maps.listing.table.descriptionColumnName",{defaultMessage:"Description"}),sortable:true},{field:"updated_at",name:_i18n.i18n.translate("maps.listing.table.updatedTimeColumnName",{defaultMessage:"Last updated"}),sortable:true}];var navigateToCreateMapPage=function navigateToCreateMapPage(){navigateToApp(_common.MAPS_APP_ID,{path:_common.APP_PATH.CREATE_MAP})};var fetchMaps=(0,_react.useCallback)((0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee(){var res;return _regenerator.default.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return savedObjectsClient.find({type:"map",fields:["description","title"]});case 2:res=_context.sent;return _context.abrupt("return",{total:res.total,hits:res.savedObjects});case 4:case"end":return _context.stop()}}}),_callee)}))),[savedObjectsClient]);var deleteMaps=(0,_react.useCallback)(function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark((function _callee2(selectedItems){return _regenerator.default.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Promise.all(selectedItems.map((function(item){return savedObjectsClient.delete(item.type,item.id)}))).catch((function(error){toasts.addError(error,{title:_i18n.i18n.translate("map.mapListingDeleteErrorTitle",{defaultMessage:"Error deleting map"})})}));case 2:case"end":return _context2.stop()}}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}(),[savedObjectsClient,toasts]);var noMapItem=_react.default.createElement(_eui.EuiPageHeader,{pageTitle:"Create your first map",description:"There is no map to display, let's create your first map.",rightSideItems:[_react.default.createElement(_eui.EuiButton,{fill:true,onClick:navigateToCreateMapPage},"Create map")]});return _react.default.createElement(_react2.I18nProvider,null,_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPage,{restrictWidth:"1000px"},_react.default.createElement(_eui.EuiPageBody,{component:"main","data-test-subj":"mapListingPage"},_react.default.createElement(_eui.EuiPageContentBody,null,_react.default.createElement(_public.TableListView,{headingId:"mapsListingHeading",createItem:navigateToCreateMapPage,findItems:fetchMaps,deleteItems:deleteMaps,tableColumns:tableColumns,listingLimit:10,initialPageSize:10,initialFilter:"",noItemsFragment:noMapItem,entityName:_i18n.i18n.translate("maps.listing.table.entityName",{defaultMessage:"map"}),entityNamePlural:_i18n.i18n.translate("maps.listing.table.entityNamePlural",{defaultMessage:"maps"}),tableListTitle:_i18n.i18n.translate("maps.listing.table.listTitle",{defaultMessage:"Maps"}),toastNotifications:toasts}))))))};exports.MapsList=MapsList}}]);
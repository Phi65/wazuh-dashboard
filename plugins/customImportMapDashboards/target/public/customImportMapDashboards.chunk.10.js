(window["customImportMapDashboards_bundle_jsonpfunction"]=window["customImportMapDashboards_bundle_jsonpfunction"]||[]).push([[10],{1075:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(0);var _typeof=__webpack_require__(8);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(3));var _createClass2=_interopRequireDefault(__webpack_require__(4));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(16));var _inherits2=_interopRequireDefault(__webpack_require__(11));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(12));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9));var _defineProperty2=_interopRequireDefault(__webpack_require__(1));var _lodash=__webpack_require__(7);var _react=_interopRequireWildcard(__webpack_require__(5));var _classnames=_interopRequireDefault(__webpack_require__(44));var _styledComponents=_interopRequireDefault(__webpack_require__(1076));var _suggestion_component=__webpack_require__(1310);var _constants=__webpack_require__(1311);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap;var cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return(0,_possibleConstructorReturn2.default)(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}var SuggestionsComponent=function(_Component){(0,_inherits2.default)(SuggestionsComponent,_Component);var _super=_createSuper(SuggestionsComponent);function SuggestionsComponent(){var _this;(0,_classCallCheck2.default)(this,SuggestionsComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"childNodes",[]);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"parentNode",null);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"scrollIntoView",(function(){if(_this.props.index===null){return}var parent=_this.parentNode;var child=_this.childNodes[_this.props.index];if(_this.props.index==null||!parent||!child){return}var scrollTop=Math.max(Math.min(parent.scrollTop,child.offsetTop),child.offsetTop+child.offsetHeight-parent.offsetHeight);parent.scrollTop=scrollTop}));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"handleScroll",(function(){if(!_this.props.loadMore||!_this.parentNode){return}var position=_this.parentNode.scrollTop+_this.parentNode.offsetHeight;var height=_this.parentNode.scrollHeight;var remaining=height-position;var margin=50;if(!height||!position){return}if(remaining<=margin){_this.props.loadMore()}}));return _this}(0,_createClass2.default)(SuggestionsComponent,[{key:"render",value:function render(){var _this2=this,_classNames;if(!this.props.queryBarRect||!this.props.show||(0,_lodash.isEmpty)(this.props.suggestions)){return null}var suggestions=this.props.suggestions.map((function(suggestion,index){var isDescriptionFittable=_this2.props.queryBarRect.width>=_constants.SUGGESTIONS_LIST_REQUIRED_WIDTH;return _react.default.createElement(_suggestion_component.SuggestionComponent,{innerRef:function innerRef(node){return _this2.childNodes[index]=node},selected:index===_this2.props.index,suggestion:suggestion,onClick:_this2.props.onClick,onMouseEnter:function onMouseEnter(){return _this2.props.onMouseEnter(index)},ariaId:"suggestion-"+index,key:"".concat(suggestion.type," - ").concat(suggestion.text),shouldDisplayDescription:isDescriptionFittable})}));var documentHeight=document.documentElement.clientHeight||window.innerHeight;var queryBarRect=this.props.queryBarRect;var isSuggestionsListFittable=documentHeight-(queryBarRect.top+queryBarRect.height)>_constants.SUGGESTIONS_LIST_REQUIRED_BOTTOM_SPACE;var verticalListPosition=isSuggestionsListFittable?"top: ".concat(window.scrollY+queryBarRect.bottom-_constants.SUGGESTIONS_LIST_REQUIRED_TOP_OFFSET,"px;"):"bottom: ".concat(documentHeight-(window.scrollY+queryBarRect.top),"px;");return _react.default.createElement(StyledSuggestionsListDiv,{queryBarRect:queryBarRect,verticalListPosition:verticalListPosition},_react.default.createElement("div",{className:(0,_classnames.default)("osdTypeahead",{"osdTypeahead--small":this.props.size==="s"})},_react.default.createElement("div",{className:(0,_classnames.default)("osdTypeahead__popover",(_classNames={},(0,_defineProperty2.default)(_classNames,"osdTypeahead__popover--bottom",isSuggestionsListFittable),(0,_defineProperty2.default)(_classNames,"osdTypeahead__popover--top",!isSuggestionsListFittable),_classNames))},_react.default.createElement("div",{id:"osdTypeahead__items",role:"listbox",ref:function ref(node){return _this2.parentNode=node},onScroll:this.handleScroll},suggestions))))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.index!==this.props.index){this.scrollIntoView()}}}]);return SuggestionsComponent}(_react.Component);exports.default=SuggestionsComponent;var StyledSuggestionsListDiv=_styledComponents.default.div.withConfig({displayName:"StyledSuggestionsListDiv",componentId:"sc-b1tlry-0"})(["",""],(function(props){return"\n      position: absolute;\n      z-index: 4001;\n      left: ".concat(props.queryBarRect.left,"px;\n      width: ").concat(props.queryBarRect.width,"px;\n      ").concat(props.verticalListPosition)}));module.exports=exports.default},1310:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.SuggestionComponent=SuggestionComponent;var _eui=__webpack_require__(13);var _classnames=_interopRequireDefault(__webpack_require__(44));var _react=_interopRequireDefault(__webpack_require__(5));function getEuiIconType(type){switch(type){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:throw new Error("Unknown type: ".concat(type))}}function SuggestionComponent(props){return _react.default.createElement("div",{className:(0,_classnames.default)({osdTypeahead__item:true,active:props.selected}),role:"option",onClick:function onClick(){return props.onClick(props.suggestion)},onMouseEnter:props.onMouseEnter,ref:props.innerRef,id:props.ariaId,"aria-selected":props.selected,"data-test-subj":"autocompleteSuggestion-".concat(props.suggestion.type,"-").concat(props.suggestion.text.replace(/\s/g,"-"))},_react.default.createElement("div",{className:"osdSuggestionItem osdSuggestionItem--"+props.suggestion.type},_react.default.createElement("div",{className:"osdSuggestionItem__type"},_react.default.createElement(_eui.EuiIcon,{type:getEuiIconType(props.suggestion.type)})),_react.default.createElement("div",{className:"osdSuggestionItem__text","data-test-subj":"autoCompleteSuggestionText"},props.suggestion.text),props.shouldDisplayDescription&&_react.default.createElement("div",{className:"osdSuggestionItem__description"},props.suggestion.description)))}},1311:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SUGGESTIONS_LIST_REQUIRED_WIDTH=exports.SUGGESTIONS_LIST_REQUIRED_TOP_OFFSET=exports.SUGGESTIONS_LIST_REQUIRED_BOTTOM_SPACE=void 0;var SUGGESTIONS_LIST_REQUIRED_WIDTH=600;exports.SUGGESTIONS_LIST_REQUIRED_WIDTH=SUGGESTIONS_LIST_REQUIRED_WIDTH;var SUGGESTIONS_LIST_REQUIRED_BOTTOM_SPACE=250;exports.SUGGESTIONS_LIST_REQUIRED_BOTTOM_SPACE=SUGGESTIONS_LIST_REQUIRED_BOTTOM_SPACE;var SUGGESTIONS_LIST_REQUIRED_TOP_OFFSET=1;exports.SUGGESTIONS_LIST_REQUIRED_TOP_OFFSET=SUGGESTIONS_LIST_REQUIRED_TOP_OFFSET}}]);